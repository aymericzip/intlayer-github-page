{
  "id": "./docs/en/intlayer_with_next-i18next.md",
  "content": "---\ncreatedAt: 2025-10-05\nupdatedAt: 2025-10-05\ntitle: Next.js and next-i18next i18n - How to translate your Next.js app – guide 2026\ndescription: A practical, production-ready guide to internationalize a Next.js 15 App Router app with i18next/next-i18next and enhance it with Intlayer.\nkeywords:\n  - Internationalization\n  - Documentation\n  - Intlayer\n  - Next.js 15\n  - next-i18next\n  - i18next\n  - JavaScript\n  - React\nslugs:\n  - doc\n  - next-i18next\napplicationTemplate: https://github.com/aymericzip/intlayer-next-i18next-template\n---\n\n# Translate your Next.js 15 using next-i18next website using Intlayer | Internationalization (i18n)\n\n### Who this guide is for\n\n- **Junior**: Follow the exact steps and copy the code blocks. You’ll get a working multilingual app.\n- **Mid-level**: Use the checklists and best-practice callouts to avoid common pitfalls.\n- **Senior**: Skim the high-level structure, SEO, and automation sections; you’ll find sensible defaults and extension points.\n\n### What you’ll build\n\n- App Router project with localized routes (e.g., `/`, `/fr/...`)\n- i18n config with locales, default locale, RTL support\n- Server-side i18n initialization and a client provider\n- Namespaced translations loaded on-demand\n- SEO with `hreflang`, localized `sitemap`, `robots`\n- Middleware for locale routing\n- Intlayer integration to automate translation workflows (tests, AI fill, JSON sync)\n\n> Note: next-i18next is built on top of i18next. This guide uses the i18next primitives compatible with next-i18next in the App Router, while keeping the architecture simple and production-ready.\n> For a broader comparison, see [next-i18next vs next-i18next vs Intlayer](https://github.com/aymericzip/intlayer/blob/main/docs/blog/en/next-i18next_vs_next-i18next_vs_intlayer.md).\n\n---\n\n## 1) Project structure\n\nInstall the next-i18next dependencies:\n\n```bash packageManager=\"npm\"\nnpm install next-i18next i18next react-i18next i18next-resources-to-backend\n```\n\n```bash packageManager=\"pnpm\"\npnpm add next-i18next i18next react-i18next i18next-resources-to-backend\n```\n\n```bash packageManager=\"yarn\"\nyarn add next-i18next i18next react-i18next i18next-resources-to-backend\n```\n\n```bash packageManager=\"bun\"\nbun add next-i18next i18next react-i18next i18next-resources-to-backend\n```\n\nStart with a clear structure. Keep messages split by locale and namespace.\n\n```bash\n.\n├── i18n.config.ts\n└── src\n    ├── locales\n    │   ├── en\n    │   │  ├── common.json\n    │   │  └── about.json\n    │   └── fr\n    │      ├── common.json\n    │      └── about.json\n    ├── app\n    │   ├── i18n\n    │   │   └── server.ts\n    │   └── [locale]\n    │       ├── layout.tsx\n    │       └── about.tsx\n    └── components\n        ├── I18nProvider.tsx\n        ├── ClientComponent.tsx\n        └── ServerComponent.tsx\n```\n\nChecklist (mid/senior):\n\n- Keep one JSON per namespace per locale\n- Do not over-centralize messages; use small, page/feature-scoped namespaces\n- Avoid importing all locales at once; load only what you need\n\n---\n\n## 2) Install dependencies\n\n```bash\npnpm add i18next react-i18next i18next-resources-to-backend\n```\n\nIf you plan to use next-i18next APIs or config interop, also:\n\n```bash\npnpm add next-i18next\n```\n\n---\n\n## 3) Core i18n config\n\nDefine locales, default locale, RTL, and helpers for localized paths/URLs.\n\n```ts fileName=\"i18n.config.ts\"\nexport const locales = [\"en\", \"fr\"] as const;\nexport type Locale = (typeof locales)[number];\n\nexport const defaultLocale: Locale = \"en\";\n\nexport const rtlLocales = [\"ar\", \"he\", \"fa\", \"ur\"] as const;\nexport const isRtl = (locale: string) =>\n  (rtlLocales as readonly string[]).includes(locale);\n\nexport function localizedPath(locale: string, path: string) {\n  return locale === defaultLocale ? path : \"/\" + locale + path;\n}\n\nconst ORIGIN = \"https://example.com\";\nexport function abs(locale: string, path: string) {\n  return ORIGIN + localizedPath(locale, path);\n}\n```\n\nSenior note: If you use `next-i18next.config.js`, keep it aligned with `i18n.config.ts` to avoid drift.\n\n---\n\n## 4) Server-side i18n initialization\n\nInitialize i18next on the server with a dynamic backend that imports only the required locale/namespace JSON.\n\n```ts fileName=\"src/app/i18n/server.ts\"\nimport { createInstance } from \"i18next\";\nimport { initReactI18next } from \"react-i18next/initReactI18next\";\nimport resourcesToBackend from \"i18next-resources-to-backend\";\nimport { defaultLocale } from \"@/i18n.config\";\n\n// Load JSON resources from src/locales/<locale>/<namespace>.json\nconst backend = resourcesToBackend(\n  (locale: string, namespace: string) =>\n    import(`../../locales/${locale}/${namespace}.json`)\n);\n\nexport async function initI18next(\n  locale: string,\n  namespaces: string[] = [\"common\"]\n) {\n  const i18n = createInstance();\n  await i18n\n    .use(initReactI18next)\n    .use(backend)\n    .init({\n      lng: locale,\n      fallbackLng: defaultLocale,\n      ns: namespaces,\n      defaultNS: \"common\",\n      interpolation: { escapeValue: false },\n      react: { useSuspense: false },\n    });\n  return i18n;\n}\n```\n\nMid note: Keep the namespace list short per page to limit payload. Avoid global “catch-all” bundles.\n\n---\n\n## 5) Client provider for React components\n\nWrap client components with a provider that mirrors the server config and loads only the requested namespaces.\n\n```tsx fileName=\"src/components/I18nProvider.tsx\"\n\"use client\";\n\nimport * as React from \"react\";\nimport { I18nextProvider } from \"react-i18next\";\nimport { createInstance } from \"i18next\";\nimport { initReactI18next } from \"react-i18next/initReactI18next\";\nimport resourcesToBackend from \"i18next-resources-to-backend\";\nimport { defaultLocale } from \"@/i18n.config\";\n\nconst backend = resourcesToBackend(\n  (locale: string, namespace: string) =>\n    import(`../../locales/${locale}/${namespace}.json`)\n);\n\ntype Props = {\n  locale: string;\n  namespaces?: string[];\n  resources?: Record<string, any>; // { ns: bundle }\n  children: React.ReactNode;\n};\n\nexport default function I18nProvider({\n  locale,\n  namespaces = [\"common\"],\n  resources,\n  children,\n}: Props) {\n  const [i18n] = React.useState(() => {\n    const i = createInstance();\n\n    i.use(initReactI18next)\n      .use(backend)\n      .init({\n        lng: locale,\n        fallbackLng: defaultLocale,\n        ns: namespaces,\n        resources: resources ? { [locale]: resources } : undefined,\n        defaultNS: \"common\",\n        interpolation: { escapeValue: false },\n        react: { useSuspense: false },\n      });\n\n    return i;\n  });\n\n  return <I18nextProvider i18n={i18n}>{children}</I18nextProvider>;\n}\n```\n\nJunior tip: You don’t need to pass all messages to the client. Start with the page’s namespaces only.\n\n---\n\n## 6) Localized layout and routes\n\nSet language and direction, and pre-generate routes per locale to favor static rendering.\n\n```tsx fileName=\"src/app/[locale]/layout.tsx\"\nimport type { ReactNode } from \"react\";\nimport { locales, defaultLocale, isRtl, type Locale } from \"@/i18n.config\";\n\nexport const dynamicParams = false;\n\nexport function generateStaticParams() {\n  return locales.map((locale) => ({ locale }));\n}\n\nexport default function LocaleLayout({\n  children,\n  params,\n}: {\n  children: ReactNode;\n  params: { locale: string };\n}) {\n  const locale: Locale = (locales as readonly string[]).includes(params.locale)\n    ? (params.locale as any)\n    : defaultLocale;\n\n  const dir = isRtl(locale) ? \"rtl\" : \"ltr\";\n\n  return (\n    <html lang={locale} dir={dir}>\n      <body>{children}</body>\n    </html>\n  );\n}\n```\n\n---\n\n## 7) Example page with server + client usage\n\n```tsx fileName=\"src/app/[locale]/about.tsx\"\nimport I18nProvider from \"@/components/I18nProvider\";\nimport { initI18next } from \"@/app/i18n/server\";\nimport type { Locale } from \"@/i18n.config\";\nimport ClientComponent from \"@/components/ClientComponent\";\nimport ServerComponent from \"@/components/ServerComponent\";\n\n// Force static rendering for the page\nexport const dynamic = \"force-static\";\n\nexport default async function AboutPage({\n  params: { locale },\n}: {\n  params: { locale: Locale };\n}) {\n  const namespaces = [\"common\", \"about\"] as const;\n\n  const i18n = await initI18next(locale, [...namespaces]);\n  const tAbout = i18n.getFixedT(locale, \"about\");\n\n  return (\n    <I18nProvider locale={locale} namespaces={[...namespaces]}>\n      <main>\n        <h1>{tAbout(\"title\")}</h1>\n\n        <ClientComponent />\n        <ServerComponent t={tAbout} locale={locale} count={0} />\n      </main>\n    </I18nProvider>\n  );\n}\n```\n\nTranslations (one JSON per namespace under `src/locales/...`):\n\n```json fileName=\"src/locales/en/about.json\"\n{\n  \"title\": \"About\",\n  \"description\": \"About page description\",\n  \"counter\": {\n    \"label\": \"Counter\",\n    \"increment\": \"Increment\"\n  }\n}\n```\n\n```json fileName=\"src/locales/fr/about.json\"\n{\n  \"title\": \"À propos\",\n  \"description\": \"Description de la page À propos\",\n  \"counter\": {\n    \"label\": \"Compteur\",\n    \"increment\": \"Incrémenter\"\n  }\n}\n```\n\nClient component (loads only the required namespace):\n\n```tsx fileName=\"src/components/ClientComponent.tsx\"\n\"use client\";\n\nimport React, { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nconst ClientComponent = () => {\n  const { t, i18n } = useTranslation(\"about\");\n  const [count, setCount] = useState(0);\n\n  const numberFormat = new Intl.NumberFormat(i18n.language);\n\n  return (\n    <div>\n      <p>{numberFormat.format(count)}</p>\n      <button\n        aria-label={t(\"counter.label\")}\n        onClick={() => setCount((c) => c + 1)}\n      >\n        {t(\"counter.increment\")}\n      </button>\n    </div>\n  );\n};\n\nexport default ClientComponent;\n```\n\n> Ensure the page/provider includes only the namespaces you need (e.g., `about`).\n> If you use React < 19, memoize heavy formatters like `Intl.NumberFormat`.\n\nSynchronous server component embedded under a client boundary:\n\n```tsx fileName=\"src/components/ServerComponent.tsx\"\ntype ServerComponentProps = {\n  t: (key: string) => string;\n  locale: string;\n  count: number;\n};\n\nconst ServerComponent = ({ t, locale, count }: ServerComponentProps) => {\n  const formatted = new Intl.NumberFormat(locale).format(count);\n\n  return (\n    <div>\n      <p>{formatted}</p>\n      <button aria-label={t(\"counter.label\")}>{t(\"counter.increment\")}</button>\n    </div>\n  );\n};\n\nexport default ServerComponent;\n```\n\n---\n\n## 8) SEO: Metadata, Hreflang, Sitemap, Robots\n\nTranslating content is a means to improve reach. Wire up multilingual SEO thoroughly.\n\nBest practices:\n\n- Set `lang` and `dir` at the root\n- Add `alternates.languages` for each locale (+ `x-default`)\n- List translated URLs in `sitemap.xml` and use `hreflang`\n- Exclude localized private areas (e.g., `/fr/admin`) in `robots.txt`\n\n```tsx fileName=\"src/app/[locale]/about/layout.tsx\"\nimport type { Metadata } from \"next\";\nimport { locales, defaultLocale, localizedPath } from \"@/i18n.config\";\n\nexport async function generateMetadata({\n  params,\n}: {\n  params: { locale: string };\n}): Promise<Metadata> {\n  const { locale } = params;\n\n  // Import the correct JSON bundle from src/locales\n  const messages = (await import(\"@/locales/\" + locale + \"/about.json\"))\n    .default;\n\n  const languages = Object.fromEntries(\n    locales.map((locale) => [locale, localizedPath(locale, \"/about\")])\n  );\n\n  return {\n    title: messages.title,\n    description: messages.description,\n    alternates: {\n      canonical: localizedPath(locale, \"/about\"),\n      languages: { ...languages, \"x-default\": \"/about\" },\n    },\n  };\n}\n\nexport default async function AboutPage() {\n  return <h1>About</h1>;\n}\n```\n\n```ts fileName=\"src/app/sitemap.ts\"\nimport type { MetadataRoute } from \"next\";\nimport { locales, defaultLocale, abs } from \"@/i18n.config\";\n\nexport default function sitemap(): MetadataRoute.Sitemap {\n  const languages = Object.fromEntries(\n    locales.map((locale) => [locale, abs(locale, \"/about\")])\n  );\n\n  return [\n    {\n      url: abs(defaultLocale, \"/about\"),\n      lastModified: new Date(),\n      changeFrequency: \"monthly\",\n      priority: 0.7,\n      alternates: { languages },\n    },\n  ];\n}\n```\n\n```ts fileName=\"src/app/robots.ts\"\nimport type { MetadataRoute } from \"next\";\nimport { locales, defaultLocale, localizedPath } from \"@/i18n.config\";\n\nconst ORIGIN = \"https://example.com\";\n\nconst expandAllLocales = (path: string) => [\n  localizedPath(defaultLocale, path),\n  ...locales\n    .filter((locale) => locale !== defaultLocale)\n    .map((locale) => localizedPath(locale, path)),\n];\n\nexport default function robots(): MetadataRoute.Robots {\n  const disallow = [\n    ...expandAllLocales(\"/dashboard\"),\n    ...expandAllLocales(\"/admin\"),\n  ];\n\n  return {\n    rules: { userAgent: \"*\", allow: [\"/\"], disallow },\n    host: ORIGIN,\n    sitemap: ORIGIN + \"/sitemap.xml\",\n  };\n}\n```\n\n---\n\n## 9) Middleware for locale routing\n\nDetect locale and redirect to a localized route if missing.\n\n```ts fileName=\"src/middleware.ts\"\nimport { NextResponse, type NextRequest } from \"next/server\";\nimport { defaultLocale, locales } from \"@/i18n.config\";\n\nconst PUBLIC_FILE = /\\.[^/]+$/; // exclude files with extensions\n\nexport function middleware(request: NextRequest) {\n  const { pathname } = request.nextUrl;\n\n  if (\n    pathname.startsWith(\"/_next\") ||\n    pathname.startsWith(\"/api\") ||\n    pathname.startsWith(\"/static\") ||\n    PUBLIC_FILE.test(pathname)\n  ) {\n    return;\n  }\n\n  const hasLocale = locales.some(\n    (locale) =>\n      pathname === \"/\" + locale || pathname.startsWith(\"/\" + locale + \"/\")\n  );\n  if (!hasLocale) {\n    const locale = defaultLocale;\n    const url = request.nextUrl.clone();\n    url.pathname = \"/\" + locale + (pathname === \"/\" ? \"\" : pathname);\n    return NextResponse.redirect(url);\n  }\n}\n\nexport const config = {\n  matcher: [\n    // Match all paths except the ones starting with these and files with an extension\n    \"/((?!api|_next|static|.*\\\\..*).*)\",\n  ],\n};\n```\n\n---\n\n## 10) Performance and DX best practices\n\n- **Set html `lang` and `dir`**: Done in `src/app/[locale]/layout.tsx`.\n- **Split messages by namespace**: Keep bundles small (`common.json`, `about.json`, etc.).\n- **Minimize client payload**: On pages, pass only required namespaces to the provider.\n- **Prefer static pages**: Use `export const dynamic = 'force-static'` and `generateStaticParams` per locale.\n- **Sync server components**: Pass precomputed strings/formatting instead of async calls at render time.\n- **Memoize heavy operations**: Especially in client code for older React versions.\n- **Cache and headers**: Prefer static or `revalidate` over dynamic rendering when feasible.\n\n---\n\n## 11) Testing and CI\n\n- Add unit tests for components using `t` to ensure keys exist.\n- Validate that each namespace has the same keys across locales.\n- Surface missing keys during CI before deploy.\n\nIntlayer will automate much of this (see next section).\n\n---\n\n## 12) Add Intlayer on top (automation)\n\nIntlayer helps you keep JSON translations in sync, test for missing keys, and fill with AI when desired.\n\nInstall the intlayer dependencies:\n\n```bash packageManager=\"npm\"\nnpm install intlayer @intlayer/sync-json-plugin --save-dev\nnpx intlayer init\n```\n\n```bash packageManager=\"pnpm\"\npnpm add intlayer @intlayer/sync-json-plugin --save-dev\npnpm intlayer init\n```\n\n```bash packageManager=\"yarn\"\nyarn add intlayer @intlayer/sync-json-plugin --dev\nyarn intlayer init\n```\n\n```bash packageManager=\"bun\"\nbun add intlayer @intlayer/sync-json-plugin --dev\nbunx intlayer init\n```\n\n```ts fileName=\"intlayer.config.ts\"\nimport { type IntlayerConfig, Locales } from \"intlayer\";\nimport { locales, defaultLocale } from \"@/i18n\";\nimport { syncJSON } from \"@intlayer/sync-json\";\n\nexport const locales = [Locales.ENGLISH, Locales.FRENCH, Locales.SPANISH];\n\nconst config: IntlayerConfig = {\n  internationalization: {\n    locales,\n    defaultLocale,\n  },\n  ai: {\n    apiKey: process.env.OPENAI_API_KEY,\n  },\n  plugins: [\n    syncJSON({\n      source: ({ locale }) => `./locales/${locale}.json`,\n    }),\n  ],\n};\n\nexport default config;\n```\n\nAdd package scripts:\n\n```json fileName=\"package.json\"\n{\n  \"scripts\": {\n    \"i18n:fill\": \"intlayer fill\",\n    \"i18n:test\": \"intlayer test\"\n  }\n}\n```\n\nCommon flows:\n\n- `pnpm i18n:test` in CI to fail builds on missing keys\n- `pnpm i18n:fill` locally to propose AI translations for newly added keys\n\n> You can provide CLI arguments; see the [Intlayer CLI docs](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/cli/index.md).\n\n---\n\n## 13) Troubleshooting\n\n- **Keys not found**: Ensure the page/provider lists the correct namespaces and the JSON file exists under `src/locales/<locale>/<namespace>.json`.\n- **Wrong language/flash of English**: Double-check locale detection in `middleware.ts` and provider `lng`.\n- **RTL layout issues**: Verify `dir` is derived from `isRtl(locale)` and that your CSS respects `[dir=\"rtl\"]`.\n- **SEO alternates missing**: Confirm `alternates.languages` includes all locales and `x-default`.\n- **Bundles too large**: Split namespaces further and avoid importing entire `locales` trees on the client.\n\n---\n\n## 14) What’s next\n\n- Add more locales and namespaces as features grow\n- Localize error pages, emails, and API-driven content\n- Extend Intlayer workflows to auto-open PRs for translation updates\n\nIf you prefer a starter, try the template: `https://github.com/aymericzip/intlayer-next-i18next-template`.\n",
  "createdAt": "2025-10-05",
  "updatedAt": "2025-10-05",
  "title": "Next.js and next-i18next i18n - How to translate your Next.js app – guide 2026",
  "description": "A practical, production-ready guide to internationalize a Next.js 15 App Router app with i18next/next-i18next and enhance it with Intlayer.",
  "keywords": [
    "Internationalization",
    "Documentation",
    "Intlayer",
    "Next.js 15",
    "next-i18next",
    "i18next",
    "JavaScript",
    "React"
  ],
  "slugs": [
    "doc",
    "next-i18next"
  ],
  "applicationTemplate": "https://github.com/aymericzip/intlayer-next-i18next-template",
  "docKey": "./docs/en/intlayer_with_next-i18next.md",
  "githubUrl": "https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/intlayer_with_next-i18next.md",
  "relativeUrl": "/doc/next-i18next",
  "url": "https://intlayer.org/doc/next-i18next"
}