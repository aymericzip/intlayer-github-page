{
  "id": "./docs/en/locale_mapper.md",
  "content": "---\ncreatedAt: 2025-07-27\nupdatedAt: 2025-07-27\ntitle: Locale Mapper\ndescription: Discover how Locale Mapper works. See the steps used by Locale Mapper in your application. See what does the different packages do.\nkeywords:\n  - Locale Mapper\n  - Get started\n  - Intlayer\n  - Application\n  - Packages\nslugs:\n  - doc\n  - locale-mapper\nhistory:\n  - version: 5.7.2\n    date: 2025-07-27\n    changes: Add locale mapper documentation\n---\n\n# Locale Mapper\n\nThe Locale Mapper is a powerful utility that helps you work with internationalization data in your Intlayer application. It provides three main functions to transform and organize locale-specific data: `localeMap`, `localeFlatMap`, and `localeRecord`.\n\n## How Locale Mapper Works\n\nThe Locale Mapper operates on a `LocaleData` object that contains all the necessary information about a locale:\n\n```typescript\ntype LocaleData = {\n  locale: LocalesValues; // Current locale code (e.g., 'en', 'fr')\n  defaultLocale: LocalesValues; // Default locale code\n  isDefault: boolean; // Whether this is the default locale\n  locales: LocalesValues[]; // Array of all available locales\n  urlPrefix: string; // URL prefix for this locale (e.g., '/fr' or '')\n};\n```\n\nThe mapper functions automatically generate this data for each locale in your configuration, taking into account:\n\n- Your configured locales list\n- The default locale setting\n- Whether the default locale should be prefixed in URLs\n\n## Core Functions\n\n### `localeMap`\n\nTransforms each locale into a single object using a mapper function.\n\n```typescript\nlocaleMap<T>(\n  mapper: (locale: LocaleData) => T,\n  locales?: LocalesValues[],\n  defaultLocale?: LocalesValues,\n  prefixDefault?: boolean\n): T[]\n```\n\n**Example: Creating route objects**\n\n```typescript\nimport { localeMap } from \"intlayer\";\n\nconst routes = localeMap((localizedData) => ({\n  path: localizedData.urlPrefix,\n  name: localizedData.locale,\n  isDefault: localizedData.isDefault,\n  locales: localizedData.locales,\n  defaultLocale: localizedData.defaultLocale,\n}));\n\n// Result:\n// [\n//   { path: '/', name: 'en', isDefault: true, locales: ['en', 'fr', 'es'], defaultLocale: 'en' },\n//   { path: '/fr', name: 'fr', isDefault: false, locales: ['en', 'fr', 'es'], defaultLocale: 'en' },\n//   { path: '/es', name: 'es', isDefault: false, locales: ['en', 'fr', 'es'], defaultLocale: 'en' }\n// ]\n```\n\n### `localeFlatMap`\n\nSimilar to `localeMap`, but the mapper function returns an array of objects that gets flattened into a single array.\n\n```typescript\nlocaleFlatMap<T>(\n  mapper: (locale: LocaleData) => T[],\n  locales?: LocalesValues[],\n  defaultLocale?: LocalesValues,\n  prefixDefault?: boolean\n): T[]\n```\n\n**Example: Creating multiple routes per locale**\n\n```typescript\nimport { localeFlatMap } from \"intlayer\";\n\nconst routes = localeFlatMap((localizedData) => [\n  {\n    path: localizedData.urlPrefix,\n    name: localizedData.locale,\n    isDefault: localizedData.isDefault,\n  },\n  {\n    path: `${localizedData.urlPrefix}/about`,\n    name: `${localizedData.locale}-about`,\n    isDefault: localizedData.isDefault,\n  },\n]);\n\n// Result:\n// [\n//   { path: '/', name: 'en', isDefault: true },\n//   { path: '/about', name: 'en-about', isDefault: true },\n//   { path: '/fr', name: 'fr', isDefault: false },\n//   { path: '/fr/about', name: 'fr-about', isDefault: false },\n//   { path: '/es', name: 'es', isDefault: false },\n//   { path: '/es/about', name: 'es-about', isDefault: false }\n// ]\n```\n\n### `localeRecord`\n\nCreates a record object where each locale is a key mapping to a value transformed by the mapper function.\n\n```typescript\nlocaleRecord<T>(\n  mapper: (locale: LocaleData) => T,\n  locales?: Locales[],\n  defaultLocale?: Locales,\n  prefixDefault?: boolean\n): Record<Locales, T>\n```\n\n**Example: Loading translation files**\n\n```typescript\nimport { localeRecord } from \"intlayer\";\n\nconst translations = localeRecord(({ locale }) =>\n  require(`./translations/${locale}.json`)\n);\n\n// Result:\n// {\n//   en: { welcome: 'Welcome', hello: 'Hello' },\n//   fr: { welcome: 'Bienvenue', hello: 'Bonjour' },\n//   es: { welcome: 'Bienvenido', hello: 'Hola' }\n// }\n```\n\n## Setting Up Locale Mapper\n\nThe Locale Mapper automatically uses your Intlayer configuration, but you can override the defaults by passing parameters:\n\n### Using Default Configuration\n\n```typescript\nimport { localeMap } from \"intlayer\";\n\n// Uses configuration from intlayer.config.ts\nconst routes = localeMap((data) => ({\n  path: data.urlPrefix,\n  locale: data.locale,\n}));\n```\n\n### Overriding Configuration\n\n```typescript\nimport { localeMap } from \"intlayer\";\n\n// Override locales and default locale\nconst customRoutes = localeMap(\n  (data) => ({ path: data.urlPrefix, locale: data.locale }),\n  [\"en\", \"fr\", \"de\"], // Custom locales\n  \"en\", // Custom default locale\n  true // Prefix default locale in URLs\n);\n```\n\n## Advanced Usage Examples\n\n### Creating Navigation Menus\n\n```typescript\nimport { localeMap } from \"intlayer\";\n\nconst navigationItems = localeMap((data) => ({\n  label: data.locale.toUpperCase(),\n  href: data.urlPrefix || \"/\",\n  isActive: data.isDefault,\n  flag: `/flags/${data.locale}.svg`,\n}));\n```\n\n### Generating Sitemap Data\n\n```typescript\nimport { localeFlatMap } from \"intlayer\";\n\nconst sitemapUrls = localeFlatMap((data) => [\n  {\n    url: `${data.urlPrefix}/`,\n    lastmod: new Date().toISOString(),\n    changefreq: \"daily\",\n    priority: data.isDefault ? 1.0 : 0.8,\n  },\n  {\n    url: `${data.urlPrefix}/about`,\n    lastmod: new Date().toISOString(),\n    changefreq: \"monthly\",\n    priority: data.isDefault ? 0.8 : 0.6,\n  },\n]);\n```\n\n### Dynamic Translation Loading\n\n```typescript\nimport { localeRecord } from \"intlayer\";\n\nconst translationModules = localeRecord(({ locale }) => ({\n  messages: import(`./locales/${locale}/messages.json`),\n  validation: import(`./locales/${locale}/validation.json`),\n  metadata: {\n    locale,\n    direction: [\"ar\", \"he\", \"fa\"].includes(locale) ? \"rtl\" : \"ltr\",\n  },\n}));\n```\n\n## Configuration Integration\n\nThe Locale Mapper seamlessly integrates with your Intlayer configuration:\n\n- **Locales**: Automatically uses `configuration.internationalization.locales`\n- **Default Locale**: Uses `configuration.internationalization.defaultLocale`\n- **URL Prefixing**: Respects `configuration.middleware.prefixDefault`\n\nThis ensures consistency across your application and reduces configuration duplication.\n",
  "createdAt": "2025-07-27",
  "updatedAt": "2025-07-27",
  "title": "Locale Mapper",
  "description": "Discover how Locale Mapper works. See the steps used by Locale Mapper in your application. See what does the different packages do.",
  "keywords": [
    "Locale Mapper",
    "Get started",
    "Intlayer",
    "Application",
    "Packages"
  ],
  "slugs": [
    "doc",
    "locale-mapper"
  ],
  "history": [
    {
      "version": "5.7.2",
      "date": "2025-07-27",
      "changes": "Add locale mapper documentation"
    }
  ],
  "docKey": "./docs/en/locale_mapper.md",
  "githubUrl": "https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/locale_mapper.md",
  "relativeUrl": "/doc/locale-mapper",
  "url": "https://intlayer.org/doc/locale-mapper"
}