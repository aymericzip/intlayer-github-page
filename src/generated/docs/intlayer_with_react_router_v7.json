{
  "id": "./docs/en/intlayer_with_react_router_v7.md",
  "content": "---\ncreatedAt: 2025-09-04\nupdatedAt: 2025-12-30\ntitle: React Router v7 i18n - How to translate your React Router v7 app – guide 2026\ndescription: Learn how to add internationalization (i18n) to your React Router v7 application using Intlayer. Follow this comprehensive guide to make your app multilingual with locale-aware routing.\nkeywords:\n  - Internationalization\n  - Documentation\n  - Intlayer\n  - React Router v7\n  - React\n  - i18n\n  - TypeScript\n  - Locale Routing\nslugs:\n  - doc\n  - environment\n  - vite-and-react\n  - react-router-v7\napplicationTemplate: https://github.com/aymericzip/intlayer-react-router-v7-template\nyoutubeVideo: https://www.youtube.com/watch?v=dS9L7uJeak4\nhistory:\n  - version: 7.5.9\n    date: 2025-12-30\n    changes: Add init command\n  - version: 7.5.6\n    date: 2025-12-27\n    changes: Update Layout and handle 404\n  - version: 6.1.5\n    date: 2025-10-03\n    changes: Updated doc\n  - version: 5.8.2\n    date: 2025-09-04\n    changes: Added for React Router v7\n---\n\n# Translate your React Router v7 website using Intlayer | Internationalization (i18n)\n\nThis guide demonstrates how to integrate **Intlayer** for seamless internationalization in React Router v7 projects with locale-aware routing, TypeScript support, and modern development practices.\n\nThis guide focuses on frontend routing. For fs-routes routing, refer to the [Intlayer with React Router v7 File-System Routes](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/intlayer_with_react_router_v7_fs_routes.md) guide.\n\n## Table of Contents\n\n<TOC/>\n\n## What is Intlayer?\n\n**Intlayer** is an innovative, open-source internationalization (i18n) library designed to simplify multilingual support in modern web applications.\n\nWith Intlayer, you can:\n\n- **Easily manage translations** using declarative dictionaries at the component level.\n- **Dynamically localize metadata**, routes, and content.\n- **Ensure TypeScript support** with autogenerated types, improving autocompletion and error detection.\n- **Benefit from advanced features**, like dynamic locale detection and switching.\n- **Enable locale-aware routing** with React Router v7's configuration-based routing system.\n\n---\n\n## Step-by-Step Guide to Set Up Intlayer in a React Router v7 Application\n\n<iframe\n  src=\"https://stackblitz.com/github/aymericzip/intlayer-react-router-v7-template?embed=1&ctl=1&file=intlayer.config.ts\"\n  className=\"m-auto overflow-hidden rounded-lg border-0 max-md:size-full max-md:h-[700px] md:aspect-16/9 md:w-full\"\n  title=\"Demo CodeSandbox - How to Internationalize your application using Intlayer\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n  loading=\"lazy\"\n/>\n\n### Step 1: Install Dependencies\n\nInstall the necessary packages using your preferred package manager:\n\n```bash packageManager=\"npm\"\nnpm install intlayer react-intlayer\nnpm install vite-intlayer --save-dev\nnpx intlayer init\n```\n\n```bash packageManager=\"pnpm\"\npnpm add intlayer react-intlayer\npnpm add vite-intlayer --save-dev\npnpm intlayer init\n```\n\n```bash packageManager=\"yarn\"\nyarn add intlayer react-intlayer\nyarn add vite-intlayer --save-dev\nyarn intlayer init\n```\n\n```bash packageManager=\"bun\"\nbun add intlayer react-intlayer\nbun add vite-intlayer --dev\nbunx intlayer init\n```\n\n- **intlayer**\n\n  The core package that provides internationalization tools for configuration management, translation, [content declaration](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/dictionary/content_file.md), transpilation, and [CLI commands](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/cli/index.md).\n\n- **react-intlayer**\n  The package that integrates Intlayer with React application. It provides context providers and hooks for React internationalization.\n\n- **vite-intlayer**\n  Includes the Vite plugin for integrating Intlayer with the [Vite bundler](https://vite.dev/guide/why.html#why-bundle-for-production), as well as middleware for detecting the user's preferred locale, managing cookies, and handling URL redirection.\n\n### Step 2: Configuration of your project\n\n## Step-by-Step Guide to Set Up Intlayer in a React Router v7 Application with File-System Routes\n\n<Tabs defaultTab=\"video\">\n  <Tab label=\"Video\" value=\"video\">\n  \n<iframe title=\"How to translate your React Router v7 app using Intlayer\" class=\"m-auto aspect-16/9 w-full overflow-hidden rounded-lg border-0\" allow=\"autoplay; gyroscope;\" loading=\"lazy\" width=\"1080\" height=\"auto\" src=\"https://www.youtube.com/embed/dS9L7uJeak4?autoplay=0&amp;origin=http://intlayer.org&amp;controls=0&amp;rel=1\"/>\n\n  </Tab>\n  <Tab label=\"Code\" value=\"code\">\n\n<iframe\n  src=\"https://stackblitz.com/github/aymericzip/intlayer-react-router-v7-template?embed=1&ctl=1&file=intlayer.config.ts\"\n  className=\"m-auto overflow-hidden rounded-lg border-0 max-md:size-full max-md:h-[700px] md:aspect-16/9 md:w-full\"\n  title=\"Demo CodeSandbox - How to Internationalize your application using Intlayer\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n  loading=\"lazy\"\n/>\n\n  </Tab>\n</Tabs>\n\nSee [Application Template](https://github.com/aymericzip/intlayer-react-router-v7-template) on GitHub.\n\nCreate a config file to configure the languages of your application:\n\n```typescript fileName=\"intlayer.config.ts\" codeFormat=\"typescript\"\nimport { type IntlayerConfig, Locales } from \"intlayer\";\n\nconst config: IntlayerConfig = {\n  internationalization: {\n    defaultLocale: Locales.ENGLISH,\n    locales: [Locales.ENGLISH, Locales.FRENCH, Locales.SPANISH],\n  },\n};\n\nexport default config;\n```\n\n```javascript fileName=\"intlayer.config.mjs\" codeFormat=\"esm\"\nimport { Locales } from \"intlayer\";\n\n/** @type {import('intlayer').IntlayerConfig} */\nconst config = {\n  internationalization: {\n    defaultLocale: Locales.ENGLISH,\n    locales: [Locales.ENGLISH, Locales.FRENCH, Locales.SPANISH],\n  },\n};\n\nexport default config;\n```\n\n```javascript fileName=\"intlayer.config.cjs\" codeFormat=\"commonjs\"\nconst { Locales } = require(\"intlayer\");\n\n/** @type {import('intlayer').IntlayerConfig} */\nconst config = {\n  internationalization: {\n    defaultLocale: Locales.ENGLISH,\n    locales: [Locales.ENGLISH, Locales.FRENCH, Locales.SPANISH],\n  },\n};\n\nmodule.exports = config;\n```\n\n> Through this configuration file, you can set up localized URLs, middleware redirection, cookie names, the location and extension of your content declarations, disable Intlayer logs in the console, and more. For a complete list of available parameters, refer to the [configuration documentation](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/configuration.md).\n\n### Step 3: Integrate Intlayer in Your Vite Configuration\n\nAdd the intlayer plugin into your configuration:\n\n```typescript fileName=\"vite.config.ts\"\nimport { reactRouter } from \"@react-router/dev/vite\";\nimport { defineConfig } from \"vite\";\nimport { intlayer } from \"vite-intlayer\";\nimport tsconfigPaths from \"vite-tsconfig-paths\";\n\nexport default defineConfig({\n  plugins: [reactRouter(), tsconfigPaths(), intlayer()],\n});\n```\n\n> The `intlayer()` Vite plugin is used to integrate Intlayer with Vite. It ensures the building of content declaration files and monitors them in development mode. It defines Intlayer environment variables within the Vite application. Additionally, it provides aliases to optimize performance.\n\n### Step 4: Configure React Router v7 Routes\n\nSet up your routing configuration with locale-aware routes:\n\n```typescript fileName=\"app/routes.ts\"\nimport { layout, route, type RouteConfig } from \"@react-router/dev/routes\";\n\nexport default [\n  route(\"/:lang?\", \"routes/page.tsx\"), // Localized home page\n  route(\"/:lang?/about\", \"routes/about/page.tsx\"), // Localized about page\n] satisfies RouteConfig;\n```\n\n### Step 5: Create Layout Components\n\nSet up your root layout and locale-specific layouts:\n\n#### Root Layout\n\n```tsx fileName=\"app/root.tsx\"\nimport { getLocaleFromPath } from \"intlayer\";\nimport { IntlayerProvider } from \"react-intlayer\";\nimport {\n  data,\n  Meta,\n  Scripts,\n  ScrollRestoration,\n  useLoaderData,\n} from \"react-router\";\nimport type { Route } from \"./+types/root\";\n\n// ... Unchanged App, links and ErrorBoundary code\n\nexport async function loader({ request }: Route.LoaderArgs) {\n  const locale = getLocaleFromPath(request.url);\n\n  if (!locale) {\n    throw data(\"Language not supported\", { status: 404 });\n  }\n\n  return { locale };\n}\n\nexport function Layout({\n  children,\n}: { children: React.ReactNode } & Route.ComponentProps) {\n  const data = useLoaderData<typeof loader>();\n  const { locale } = data ?? {};\n\n  return (\n    <html lang={locale}>\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta content=\"width=device-width, initial-scale=1\" name=\"viewport\" />\n        <Meta />\n        <Links />\n      </head>\n      <body>\n        <IntlayerProvider locale={locale}>{children}</IntlayerProvider>\n        <ScrollRestoration />\n        <Scripts />\n      </body>\n    </html>\n  );\n}\n```\n\n### Step 6: Declare Your Content\n\nCreate and manage your content declarations to store translations:\n\n```tsx fileName=\"app/routes/[lang]/page.content.ts\"\nimport { t, type Dictionary } from \"intlayer\";\n\nconst pageContent = {\n  key: \"page\",\n  content: {\n    title: t({\n      en: \"Welcome to React Router v7 + Intlayer\",\n      es: \"Bienvenido a React Router v7 + Intlayer\",\n      fr: \"Bienvenue sur React Router v7 + Intlayer\",\n    }),\n    description: t({\n      en: \"Build multilingual applications with ease using React Router v7 and Intlayer.\",\n      es: \"Cree aplicaciones multilingües fácilmente usando React Router v7 y Intlayer.\",\n      fr: \"Créez des applications multilingues facilement avec React Router v7 et Intlayer.\",\n    }),\n    aboutLink: t({\n      en: \"Learn About Us\",\n      es: \"Aprender Sobre Nosotros\",\n      fr: \"En savoir plus sur nous\",\n    }),\n    homeLink: t({\n      en: \"Home\",\n      es: \"Inicio\",\n      fr: \"Accueil\",\n    }),\n  },\n} satisfies Dictionary;\n\nexport default pageContent;\n```\n\n> Your content declarations can be defined anywhere in your application as soon they are included into the `contentDir` directory (by default, `./app`). And match the content declaration file extension (by default, `.content.{json,ts,tsx,js,jsx,mjs,cjs}`).\n\n> For more details, refer to the [content declaration documentation](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/dictionary/content_file.md).\n\n### Step 7: Create Locale-Aware Components\n\nCreate a `LocalizedLink` component for locale-aware navigation:\n\n```tsx fileName=\"app/components/localized-link.tsx\"\nimport type { FC } from \"react\";\n\nimport { getLocalizedUrl, type LocalesValues } from \"intlayer\";\nimport { useLocale } from \"react-intlayer\";\nimport { Link, type LinkProps, type To } from \"react-router\";\n\nconst isExternalLink = (to: string) => /^(https?:)?\\/\\//.test(to);\n\nexport const locacalizeTo = (to: To, locale: LocalesValues): To => {\n  if (typeof to === \"string\") {\n    if (isExternalLink(to)) {\n      return to;\n    }\n\n    return getLocalizedUrl(to, locale);\n  }\n\n  if (isExternalLink(to.pathname ?? \"\")) {\n    return to;\n  }\n\n  return {\n    ...to,\n    pathname: getLocalizedUrl(to.pathname ?? \"\", locale),\n  };\n};\n\nexport const LocalizedLink: FC<LinkProps> = (props) => {\n  const { locale } = useLocale();\n\n  return <Link {...props} to={locacalizeTo(props.to, locale)} />;\n};\n```\n\nIn the case you want to navigate to the localized routes, you can use the `useLocalizedNavigate` hook:\n\n```tsx fileName=\"app/hooks/useLocalizedNavigate.ts\"\nimport { useLocale } from \"react-intlayer\";\nimport { type NavigateOptions, type To, useNavigate } from \"react-router\";\n\nimport { locacalizeTo } from \"~/components/localized-link\";\n\nexport const useLocalizedNavigate = () => {\n  const navigate = useNavigate();\n  const { locale } = useLocale();\n\n  const localizedNavigate = (to: To, options?: NavigateOptions) => {\n    const localedTo = locacalizeTo(to, locale);\n\n    navigate(localedTo, options);\n  };\n\n  return localizedNavigate;\n};\n```\n\n### Step 8: Utilize Intlayer in Your Pages\n\nAccess your content dictionaries throughout your application:\n\n#### Localized Home Page\n\n```tsx fileName=\"app/routes/page.tsx\"\nimport { getIntlayer, validatePrefix } from \"intlayer\";\nimport { useIntlayer } from \"react-intlayer\";\nimport { data } from \"react-router\";\n\nimport { LocaleSwitcher } from \"~/components/locale-switcher\";\n\nimport { Navbar } from \"~/components/navbar\";\nimport type { Route } from \"./+types/page\";\n\nexport const loader = ({ params }: Route.LoaderArgs) => {\n  const { locale } = params;\n\n  const { isValid } = validatePrefix(locale);\n\n  if (!isValid) {\n    throw data(\"Locale not supported\", { status: 404 });\n  }\n};\n\nexport const meta: Route.MetaFunction = ({ params }) => {\n  const content = getIntlayer(\"page\", params.locale);\n\n  return [\n    { title: content.title },\n    { content: content.description, name: \"description\" },\n  ];\n};\n\nexport default function Page() {\n  const { title, description, aboutLink } = useIntlayer(\"page\");\n\n  return (\n    <div>\n      <h1>{title}</h1>\n      <p>{description}</p>\n      <nav>\n        <LocalizedLink to=\"/about\">{aboutLink}</LocalizedLink>\n      </nav>\n    </div>\n  );\n}\n```\n\n> To Learn more about the `useIntlayer` hook, refer to the [documentation](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/packages/react-intlayer/useIntlayer.md).\n\n### Step 9: Create a Locale Switcher Component\n\nCreate a component to allow users to change languages:\n\n```tsx fileName=\"app/components/locale-switcher.tsx\"\nimport type { FC } from \"react\";\n\nimport {\n  getHTMLTextDir,\n  getLocaleName,\n  getLocalizedUrl,\n  getPathWithoutLocale,\n} from \"intlayer\";\nimport { setLocaleInStorage, useIntlayer, useLocale } from \"react-intlayer\";\nimport { Link, useLocation } from \"react-router\";\n\nexport const LocaleSwitcher: FC = () => {\n  const { localeSwitcherLabel } = useIntlayer(\"locale-switcher\");\n  const { pathname } = useLocation();\n\n  const { availableLocales, locale } = useLocale();\n\n  const pathWithoutLocale = getPathWithoutLocale(pathname);\n\n  return (\n    <ol>\n      {availableLocales.map((localeItem) => (\n        <li key={localeItem}>\n          <Link\n            aria-current={localeItem === locale ? \"page\" : undefined}\n            aria-label={`${localeSwitcherLabel.value} ${getLocaleName(localeItem)}`}\n            onClick={() => setLocale(localeItem)}\n            to={getLocalizedUrl(pathWithoutLocale, localeItem)}\n          >\n            <span>\n              {/* Locale - e.g. FR */}\n              {localeItem}\n            </span>\n            <span>\n              {/* Language in its own Locale - e.g. Français */}\n              {getLocaleName(localeItem, locale)}\n            </span>\n            <span dir={getHTMLTextDir(localeItem)} lang={localeItem}>\n              {/* Language in current Locale - e.g. Francés with current locale set to Locales.SPANISH */}\n              {getLocaleName(localeItem)}\n            </span>\n            <span dir=\"ltr\" lang={Locales.ENGLISH}>\n              {/* Language in English - e.g. French */}\n              {getLocaleName(localeItem, Locales.ENGLISH)}\n            </span>\n          </Link>\n        </li>\n      ))}\n    </ol>\n  );\n};\n```\n\n> To Learn more about the `useLocale` hook, refer to the [documentation](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/packages/react-intlayer/useLocale.md).\n\n### Step 10: Add HTML Attributes Management (Optional)\n\nCreate a hook to manage HTML lang and dir attributes:\n\n```tsx fileName=\"app/hooks/useI18nHTMLAttributes.tsx\"\nimport { getHTMLTextDir } from \"intlayer\";\nimport { useEffect } from \"react\";\nimport { useLocale } from \"react-intlayer\";\n\nexport const useI18nHTMLAttributes = () => {\n  const { locale } = useLocale();\n\n  useEffect(() => {\n    document.documentElement.lang = locale;\n    document.documentElement.dir = getHTMLTextDir(locale);\n  }, [locale]);\n};\n```\n\nThen use it in your root component:\n\n```tsx fileName=\"app/routes/layout.tsx\"\nimport { Outlet } from \"react-router\";\nimport { IntlayerProvider } from \"react-intlayer\";\n\nimport { useI18nHTMLAttributes } from \"app/hooks/useI18nHTMLAttributes\"; // import the hook\n\nexport default function RootLayout() {\n  useI18nHTMLAttributes(); // call the hook\n\n  return (\n    <IntlayerProvider>\n      <Outlet />\n    </IntlayerProvider>\n  );\n}\n```\n\n### Step 11: Add middleware (Optional)\n\nYou can also use the `intlayerProxy` to add server-side routing to your application. This plugin will automatically detect the current locale based on the URL and set the appropriate locale cookie. If no locale is specified, the plugin will determine the most appropriate locale based on the user's browser language preferences. If no locale is detected, it will redirect to the default locale.\n\n> Note that to use the `intlayerProxy` in production, you need to switch the `vite-intlayer` package from `devDependencies` to `dependencies`.\n\n```typescript {3,7} fileName=\"vite.config.ts\"\nimport { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react-swc\";\nimport { intlayer, intlayerProxy } from \"vite-intlayer\";\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [react(), intlayer(), intlayerProxy()],\n});\n```\n\n---\n\n## Configure TypeScript\n\nIntlayer uses module augmentation to get benefits of TypeScript and make your codebase stronger.\n\nEnsure your TypeScript configuration includes the autogenerated types:\n\n```json5 fileName=\"tsconfig.json\"\n{\n  // ... your existing configurations\n  include: [\n    // ... your existing includes\n    \".intlayer/**/*.ts\", // Include the auto-generated types\n  ],\n}\n```\n\n---\n\n## Git Configuration\n\nIt is recommended to ignore the files generated by Intlayer. This allows you to avoid committing them to your Git repository.\n\nTo do this, you can add the following instructions to your `.gitignore` file:\n\n```plaintext fileName=\".gitignore\"\n# Ignore the files generated by Intlayer\n.intlayer\n```\n\n---\n\n## VS Code Extension\n\nTo improve your development experience with Intlayer, you can install the official **Intlayer VS Code Extension**.\n\n[Install from the VS Code Marketplace](https://marketplace.visualstudio.com/items?itemName=intlayer.intlayer-vs-code-extension)\n\nThis extension provides:\n\n- **Autocompletion** for translation keys.\n- **Real-time error detection** for missing translations.\n- **Inline previews** of translated content.\n- **Quick actions** to easily create and update translations.\n\nFor more details on how to use the extension, refer to the [Intlayer VS Code Extension documentation](https://intlayer.org/doc/vs-code-extension).\n\n---\n\n## Go Further\n\nTo go further, you can implement the [visual editor](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/intlayer_visual_editor.md) or externalize your content using the [CMS](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/intlayer_CMS.md).\n\n---\n\n## Documentation References\n\n- [Intlayer Documentation](https://intlayer.org)\n- [React Router v7 Documentation](https://reactrouter.com/)\n- [useIntlayer hook](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/packages/react-intlayer/useIntlayer.md)\n- [useLocale hook](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/packages/react-intlayer/useLocale.md)\n- [Content Declaration](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/dictionary/content_file.md)\n- [Configuration](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/configuration.md)\n\nThis comprehensive guide provides everything you need to integrate Intlayer with React Router v7 for a fully internationalized application with locale-aware routing and TypeScript support.\n",
  "createdAt": "2025-09-04",
  "updatedAt": "2025-12-30",
  "title": "React Router v7 i18n - How to translate your React Router v7 app – guide 2026",
  "description": "Learn how to add internationalization (i18n) to your React Router v7 application using Intlayer. Follow this comprehensive guide to make your app multilingual with locale-aware routing.",
  "keywords": [
    "Internationalization",
    "Documentation",
    "Intlayer",
    "React Router v7",
    "React",
    "i18n",
    "TypeScript",
    "Locale Routing"
  ],
  "slugs": [
    "doc",
    "environment",
    "vite-and-react",
    "react-router-v7"
  ],
  "applicationTemplate": "https://github.com/aymericzip/intlayer-react-router-v7-template",
  "youtubeVideo": "https://www.youtube.com/watch?v=dS9L7uJeak4",
  "history": [
    {
      "version": "7.5.9",
      "date": "2025-12-30",
      "changes": "Add init command"
    },
    {
      "version": "7.5.6",
      "date": "2025-12-27",
      "changes": "Update Layout and handle 404"
    },
    {
      "version": "6.1.5",
      "date": "2025-10-03",
      "changes": "Updated doc"
    },
    {
      "version": "5.8.2",
      "date": "2025-09-04",
      "changes": "Added for React Router v7"
    }
  ],
  "docKey": "./docs/en/intlayer_with_react_router_v7.md",
  "githubUrl": "https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/intlayer_with_react_router_v7.md",
  "relativeUrl": "/doc/environment/vite-and-react/react-router-v7",
  "url": "https://intlayer.org/doc/environment/vite-and-react/react-router-v7"
}