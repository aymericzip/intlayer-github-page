{
  "id": "./docs/en/dictionary/function_fetching.md",
  "content": "---\ncreatedAt: 2025-08-23\nupdatedAt: 2025-08-23\ntitle: Function Fetching\ndescription: Discover how to declare and use function fetching in your multilingual website. Follow the steps in this online documentation to set up your project in a few minutes.\nkeywords:\n  - Function Fetching\n  - Internationalization\n  - Documentation\n  - Intlayer\n  - Next.js\n  - JavaScript\n  - React\nslugs:\n  - doc\n  - concept\n  - content\n  - function-fetching\nhistory:\n  - version: 5.5.10\n    date: 2025-06-29\n    changes: Init history\n---\n\n# Function Fetching\n\nIntlayer allows you to declare content functions in your content modules, which can be either synchronous or asynchronous. When the application builds, Intlayer executes these functions to obtain the function's result. The return value must be a JSON object or a simple value like a string or number.\n\n> Warning: function fetching is currently not available in JSON content declaration and distant content declarations files.\n\n## Function Declarations\n\nHere's an example of a simple synchronous function fetching content:\n\n```typescript fileName=\"**/*.content.ts\" contentDeclarationFormat=\"typescript\"\nimport type { Dictionary } from \"intlayer\";\n\nconst functionContent = {\n  key: \"function_content\",\n  content: {\n    text: () => \"This is the content rendered by a function\",\n  },\n} satisfies Dictionary;\n\nexport default functionContent;\n```\n\n```javascript fileName=\"**/*.content.mjs\" contentDeclarationFormat=\"esm\"\n/** @type {import('intlayer').Dictionary} */\nconst functionContent = {\n  key: \"function_content\",\n  content: {\n    text: () => \"This is the content rendered by a function\",\n  },\n};\n\nexport default functionContent;\n```\n\n```javascript fileName=\"**/*.content.cjs\" contentDeclarationFormat=\"commonjs\"\n/** @type {import('intlayer').Dictionary} */\nconst functionContent = {\n  key: \"function_content\",\n  content: {\n    text: () => \"This is the content rendered by a function\",\n  },\n};\n\nmodule.exports = functionContent;\n```\n\n```json fileName=\"**/*.content.json\" contentDeclarationFormat=\"json\"\n{\n  \"$schema\": \"https://intlayer.org/schema.json\",\n  \"key\": \"function_content\",\n  \"content\": {\n    \"text\": \"This is the content rendered by a function\"\n  }\n}\n```\n\nIn this example, the `text` key contains a function that returns a string. This content can be rendered in your React components using Intlayer's interpreter packages like `react-intlayer`.\n\n## Asynchronous Function Fetching\n\nIn addition to synchronous functions, Intlayer supports asynchronous functions, allowing you to fetch data from external sources or simulate data retrieval with mock data.\n\nBelow is an example of an asynchronous function that simulates a server fetch:\n\n```typescript fileName=\"**/*.content.ts\" contentDeclarationFormat=\"typescript\"\nimport { setTimeout } from \"node:timers/promises\";\nimport type { Dictionary } from \"intlayer\";\n\nconst fakeFetch = async (): Promise<string> => {\n  // Wait for 200ms to simulate a fetch from the server\n  return await setTimeout(200).then(\n    () => \"This is the content fetched from the server\"\n  );\n};\n\nconst asyncFunctionContent = {\n  key: \"async_function\",\n  content: { text: fakeFetch },\n} satisfies Dictionary;\n\nexport default asyncFunctionContent;\n```\n\n```javascript fileName=\"**/*.content.mjs\" contentDeclarationFormat=\"esm\"\nimport { setTimeout } from \"node:timers/promises\";\n\n/** @type {import('intlayer').Dictionary} */\nconst fakeFetch = async () => {\n  // Wait for 200ms to simulate a fetch from the server\n  await setTimeout(200);\n  return \"This is the content fetched from the server\";\n};\n\nconst asyncFunctionContent = {\n  key: \"async_function\",\n  content: { text: fakeFetch },\n};\n\nexport default asyncFunctionContent;\n```\n\n```javascript fileName=\"**/*.content.cjs\" contentDeclarationFormat=\"commonjs\"\nconst { setTimeout } = require(\"node:timers/promises\");\n\n/** @type {import('intlayer').Dictionary} */\nconst fakeFetch = async () => {\n  // Wait for 200ms to simulate a fetch from the server\n  await setTimeout(200);\n  return \"This is the content fetched from the server\";\n};\n\nconst asyncFunctionContent = {\n  key: \"async_function\",\n  content: { text: fakeFetch },\n};\n\nmodule.exports = asyncFunctionContent;\n```\n\n```plaintext fileName=\"**/*.content.json\" contentDeclarationFormat=\"json\"\nNo way to fetch content from a JSON file, use a .ts or .js file instead\n```\n\nIn this case, the `fakeFetch` function mimics a delay to simulate server response time. Intlayer executes the asynchronous function and uses the result as the content for the `text` key.\n\n## Using Function-Based Content in React Components\n\nTo use function-based content in a React component, you need to import `useIntlayer` from `react-intlayer` and call it with the content ID to retrieve the content. Here's an example:\n\n```typescript fileName=\"**/*.jsx\" codeFormat=\"typescript\"\nimport type { FC } from \"react\";\nimport { useIntlayer } from \"react-intlayer\";\n\nconst MyComponent: FC = () => {\n  const functionContent = useIntlayer(\"function_content\");\n  const asyncFunctionContent = useIntlayer(\"async_function_content\");\n\n  return (\n    <div>\n      <p>{functionContent.text}</p>\n      {/* Output: This is the content rendered by a function */}\n      <p>{asyncFunctionContent.text}</p>\n      {/* Output: This is the content fetched from the server */}\n    </div>\n  );\n};\n\nexport default MyComponent;\n```\n\n```javascript fileName=\"**/*.mjx\" codeFormat=\"esm\"\nimport { useIntlayer } from \"react-intlayer\";\n\nconst MyComponent = () => {\n  const functionContent = useIntlayer(\"function_content\");\n  const asyncFunctionContent = useIntlayer(\"async_function_content\");\n\n  return (\n    <div>\n      <p>{functionContent.text}</p>\n      {/* Output: This is the content rendered by a function */}\n      <p>{asyncFunctionContent.text}</p>\n      {/* Output: This is the content fetched from the server */}\n    </div>\n  );\n};\n\nexport default MyComponent;\n```\n\n```javascript fileName=\"**/*.cjs\" codeFormat=\"commonjs\"\nconst { useIntlayer } = require(\"react-intlayer\");\n\nconst MyComponent = () => {\n  const functionContent = useIntlayer(\"function_content\");\n  const asyncFunctionContent = useIntlayer(\"async_function_content\");\n\n  return (\n    <div>\n      <p>{functionContent.text}</p>\n      {/* Output: This is the content rendered by a function */}\n      <p>{asyncFunctionContent.text}</p>\n      {/* Output: This is the content fetched from the server */}\n    </div>\n  );\n};\n\nmodule.exports = MyComponent;\n```\n",
  "createdAt": "2025-08-23",
  "updatedAt": "2025-08-23",
  "title": "Function Fetching",
  "description": "Discover how to declare and use function fetching in your multilingual website. Follow the steps in this online documentation to set up your project in a few minutes.",
  "keywords": [
    "Function Fetching",
    "Internationalization",
    "Documentation",
    "Intlayer",
    "Next.js",
    "JavaScript",
    "React"
  ],
  "slugs": [
    "doc",
    "concept",
    "content",
    "function-fetching"
  ],
  "history": [
    {
      "version": "5.5.10",
      "date": "2025-06-29",
      "changes": "Init history"
    }
  ],
  "docKey": "./docs/en/dictionary/function_fetching.md",
  "githubUrl": "https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/dictionary/function_fetching.md",
  "relativeUrl": "/doc/concept/content/function-fetching",
  "url": "https://intlayer.org/doc/concept/content/function-fetching"
}