{
  "id": "./docs/en/plugins/sync-json.md",
  "content": "---\ncreatedAt: 2025-03-13\nupdatedAt: 2025-12-13\ntitle: Sync JSON plugin\ndescription: Synchronize Intlayer dictionaries with third‑party i18n JSON files (i18next, next-intl, react-intl, vue-i18n, and more). Keep your existing i18n while using Intlayer to manage, translate, and test your messages.\nkeywords:\n  - Intlayer\n  - Sync JSON\n  - i18next\n  - next-intl\n  - react-intl\n  - vue-i18n\n  - next-translate\n  - nuxt-i18n\n  - LinguiJS\n  - Polyglot.js\n  - Solid-i18next\n  - svelte-i18n\n  - i18n\n  - translations\nslugs:\n  - doc\n  - plugin\n  - sync-json\nyoutubeVideo: https://www.youtube.com/watch?v=MpGMxniDHNg\nhistory:\n  - version: 7.5.0\n    date: 2025-12-13\n    changes: Add ICU and i18next format support\n  - version: 6.1.6\n    date: 2025-10-05\n    changes: Initial Sync JSON plugin documentation\n---\n\n# Sync JSON (i18n bridges) - Sync JSON with ICU / i18next support\n\n<iframe title=\"How to keep your JSON translations in sync with Intlayer\" class=\"m-auto aspect-16/9 w-full overflow-hidden rounded-lg border-0\" allow=\"autoplay; gyroscope;\" loading=\"lazy\" width=\"1080\" height=\"auto\" src=\"https://www.youtube.com/embed/MpGMxniDHNg?autoplay=0&amp;origin=http://intlayer.org&amp;controls=0&amp;rel=1\"/>\n\nUse Intlayer as an add‑on to your existing i18n stack. This plugin keeps your JSON messages in sync with Intlayer dictionaries so you can:\n\n- Keep i18next, next‑intl, react‑intl, vue‑i18n, next‑translate, nuxt‑i18n, Solid‑i18next, svelte‑i18n, etc.\n- Manage and translate your messages with Intlayer (CLI, CI, providers, CMS), without refactoring your app.\n- Ship tutorials and SEO content targeting each ecosystem, while suggesting Intlayer as the JSON management layer.\n\nNotes and current scope:\n\n- Externalization to the CMS works for translations and classic text.\n- No support yet for insertions, plurals/ICU, or advanced runtime features of other libraries.\n- The visual editor is not supported yet for third‑party i18n outputs.\n\n### When to use this plugin\n\n- You already use an i18n library and store messages in JSON files.\n- You want AI‑assisted fill, test in CI, and content ops without changing your rendering runtime.\n\n## Installation\n\n```bash\npnpm add -D @intlayer/sync-json-plugin\n# or\nnpm i -D @intlayer/sync-json-plugin\n```\n\n## Plugins\n\nThis package provides two plugins:\n\n- `loadJSON`: Load JSON files into Intlayer dictionaries.\n  - This plugin is used to load JSON files from a source and will be loaded into Intlayer dictionaries. It can scan all the codebase and search for specific JSON files.\n    This plugin can be used\n    - if you use an i18n library that impose a specific location for your JSON to be loaded (ex: `next-intl`, `i18next`, `react-intl`, `vue-i18n`, etc.), but you want to place your content declaration where you want in your code base.\n    - It can also be used if you want to fetch your messages from a remote source (ex: a CMS, a API, etc.) and store your messages in JSON files.\n\n  > Under the hood, this plugin will scan all the codebase and search for specific JSON files and load them into Intlayer dictionaries.\n  > Note that this plugin will not write the output and translations back to the JSON files.\n\n- `syncJSON`: Synchronize JSON files with Intlayer dictionaries.\n  - This plugin is used to synchronize JSON files with Intlayer dictionaries. It can scan the given location and load the JSON that match the pattern for specific JSON files. This plugin is useful if you want to get the benefits of Intlayer while using another i18n library.\n\n## Using both plugins\n\n```ts fileName=\"intlayer.config.ts\"\nimport { Locales, type IntlayerConfig } from \"intlayer\";\nimport { loadJSON, syncJSON } from \"@intlayer/sync-json-plugin\";\n\nconst config: IntlayerConfig = {\n  internationalization: {\n    locales: [Locales.ENGLISH, Locales.FRENCH, Locales.SPANISH],\n    defaultLocale: Locales.ENGLISH,\n  },\n\n  // Keep your current JSON files in sync with Intlayer dictionaries\n  plugins: [\n    /**\n     * Will load all the JSON files in the src that match the pattern {key}.i18n json\n     */\n    loadJSON({\n      source: ({ key }) => `./src/**/${key}.i18n.json`,\n      locale: Locales.ENGLISH,\n      priority: 1, // Ensures these JSON files take precedence over files at `./locales/en/${key}.json`\n      format: \"intlayer\", // Format of the JSON content\n    }),\n    /**\n     * Will load, and write the output and translations back to the JSON files in the locales directory\n     */\n    syncJSON({\n      format: \"i18next\",\n      source: ({ key, locale }) => `./locales/${locale}/${key}.json`,\n      priority: 0,\n      format: \"i18next\",\n    }),\n  ],\n};\n\nexport default config;\n```\n\n## `syncJSON` plugin\n\n### Quick start\n\nAdd the plugin to your `intlayer.config.ts` and point it at your existing JSON structure.\n\n```ts fileName=\"intlayer.config.ts\"\nimport { Locales, type IntlayerConfig } from \"intlayer\";\nimport { syncJSON } from \"@intlayer/sync-json-plugin\";\n\nconst config: IntlayerConfig = {\n  internationalization: {\n    locales: [Locales.ENGLISH, Locales.FRENCH, Locales.SPANISH],\n    defaultLocale: Locales.ENGLISH,\n  },\n\n  // Keep your current JSON files in sync with Intlayer dictionaries\n  plugins: [\n    syncJSON({\n      // Per-locale, per-namespace layout (e.g., next-intl, i18next with namespaces)\n      source: ({ key, locale }) => `./locales/${locale}/${key}.json`,\n      format: \"icu\",\n    }),\n  ],\n};\n\nexport default config;\n```\n\nAlternative: single file per locale (common with i18next/react-intl setups):\n\n```ts fileName=\"intlayer.config.ts\"\nimport { Locales, type IntlayerConfig } from \"intlayer\";\nimport { syncJSON } from \"@intlayer/sync-json-plugin\";\n\nconst config: IntlayerConfig = {\n  internationalization: {\n    locales: [Locales.ENGLISH, Locales.FRENCH],\n    defaultLocale: Locales.ENGLISH,\n  },\n  plugins: [\n    syncJSON({\n      format: \"i18next\",\n      source: ({ locale }) => `./locales/${locale}.json`,\n      format: \"i18next\",\n    }),\n  ],\n};\n\nexport default config;\n```\n\n#### How it works\n\n- Read: the plugin discovers JSON files from your `source` builder and loads them as Intlayer dictionaries.\n- Write: after builds and fills, it writes localized JSON back to the same paths (with a final newline to avoid formatting issues).\n- Auto‑fill: the plugin declares an `autoFill` path for each dictionary. Running `intlayer fill` updates only missing translations in your JSON files by default.\n\nAPI:\n\n```ts\nsyncJSON({\n  source: ({ key, locale }) => string, // required\n  location?: string, // optional label, default: \"plugin\"\n  priority?: number, // optional priority for conflict resolution, default: 0\n  format?: 'intlayer' | 'icu' | 'i18next', // optional formatter, used for intlayer runtime compatibility\n});\n```\n\n#### `format` ('intlayer' | 'icu' | 'i18next')\n\nSpecifies the formatter to use for the dictionary content when synchronizing JSON files. This allows using different message formatting syntaxes compatible with intlayer runtime.\n\n- `undefined`: No formatter will be used, the JSON content will be used as is.\n- `'intlayer'`: The default Intlayer formatter (default).\n- `'icu'`: Uses ICU message formatting (compatible with libraries like react-intl, vue-i18n).\n- `'i18next'`: Uses i18next message formatting (compatible with i18next, next-i18next, Solid-i18next).\n\n> Note that using a formatter will transform your JSON content in input, and output. For complexe json rules as ICU plurals, the parsing may not ensure a 1 to 1 mapping between the input and output.\n> If you do not use Intlayer runtime, you my prefer to do not set a formatter.\n\n**Example:**\n\n```ts\nsyncJSON({\n  source: ({ key, locale }) => `./locales/${locale}/${key}.json`,\n  format: \"i18next\", // Use i18next formatting for compatibility\n}),\n```\n\n### Multiple JSON sources and priority\n\nYou can add multiple `syncJSON` plugins to synchronize different JSON sources. This is useful when you have multiple i18n libraries or different JSON structures in your project.\n\n#### Priority system\n\nWhen multiple plugins target the same dictionary key, the `priority` parameter determines which plugin takes precedence:\n\n- Higher priority numbers win over lower ones\n- Default priority of `.content` files is `0`\n- Default priority of plugins is `0`\n- Plugins with the same priority are processed in the order they appear in the configuration\n\n```ts fileName=\"intlayer.config.ts\"\nimport { Locales, type IntlayerConfig } from \"intlayer\";\nimport { syncJSON } from \"@intlayer/sync-json-plugin\";\n\nconst config: IntlayerConfig = {\n  internationalization: {\n    locales: [Locales.ENGLISH, Locales.FRENCH],\n    defaultLocale: Locales.ENGLISH,\n  },\n\n  plugins: [\n    // Primary JSON source (highest priority)\n    syncJSON({\n      format: \"i18next\",\n      source: ({ key, locale }) => `./locales/${locale}/${key}.json`,\n      location: \"main-translations\",\n      priority: 10,\n    }),\n\n    // Fallback JSON source (lower priority)\n    syncJSON({\n      format: \"i18next\",\n      source: ({ locale }) => `./fallback-locales/${locale}.json`,\n      location: \"fallback-translations\",\n      priority: 5,\n    }),\n\n    // Legacy JSON source (lowest priority)\n    syncJSON({\n      format: \"i18next\",\n      source: ({ locale }) => `/my/other/app/legacy/${locale}/messages.json`,\n      location: \"legacy-translations\",\n      priority: 1,\n    }),\n  ],\n};\n\nexport default config;\n```\n\n## Load JSON plugin\n\n### Quick start\n\nAdd the plugin to your `intlayer.config.ts` to ingest existing JSON files as Intlayer dictionaries. This plugin is read‑only (no writes to disk):\n\n```ts fileName=\"intlayer.config.ts\"\nimport { Locales, type IntlayerConfig } from \"intlayer\";\nimport { loadJSON } from \"@intlayer/sync-json-plugin\";\n\nconst config: IntlayerConfig = {\n  internationalization: {\n    locales: [Locales.ENGLISH, Locales.FRENCH, Locales.SPANISH],\n    defaultLocale: Locales.ENGLISH,\n  },\n\n  plugins: [\n    // Ingest JSON messages located anywhere in your source tree\n    loadJSON({\n      source: ({ key }) => `./src/**/${key}.i18n.json`,\n      // Load a single locale per plugin instance (defaults to the config defaultLocale)\n      locale: Locales.ENGLISH,\n      priority: 0,\n    }),\n  ],\n};\n\nexport default config;\n```\n\nAlternative: per‑locale layout, still read‑only (only the selected locale is loaded):\n\n```ts fileName=\"intlayer.config.ts\"\nimport { Locales, type IntlayerConfig } from \"intlayer\";\nimport { loadJSON } from \"@intlayer/sync-json-plugin\";\n\nconst config: IntlayerConfig = {\n  internationalization: {\n    locales: [Locales.ENGLISH, Locales.FRENCH],\n    defaultLocale: Locales.ENGLISH,\n  },\n  plugins: [\n    loadJSON({\n      // Only files for Locales.FRENCH will be loaded from this pattern\n      source: ({ key, locale }) => `./locales/${locale}/${key}.json`,\n      locale: Locales.FRENCH,\n    }),\n  ],\n};\n\nexport default config;\n```\n\n### How it works\n\n- Discover: builds a glob from your `source` builder and collects matching JSON files.\n- Ingest: loads each JSON file as an Intlayer dictionary with the provided `locale`.\n- Read‑only: does not write or format output files; use `syncJSON` if you need round‑trip sync.\n- Auto‑fill ready: defines a `fill` pattern so `intlayer content fill` can populate missing keys.\n\n### API\n\n```ts\nloadJSON({\n  // Build paths to your JSON. `locale` is optional if your structure has no locale segment\n  source: ({ key, locale }) => string,\n\n  // Target locale for the dictionaries loaded by this plugin instance\n  // Defaults to configuration.internationalization.defaultLocale\n  locale?: Locale,\n\n  // Optional label to identify the source\n  location?: string, // default: \"plugin\"\n\n  // Priority used for conflict resolution against other sources\n  priority?: number, // default: 0\n\n  // Optional formatter for the JSON content\n  format?: 'intlayer' | 'icu' | 'i18next', // default: 'intlayer'\n});\n```\n\n#### `format` ('intlayer' | 'icu' | 'i18next')\n\nSpecifies the formatter to use for the dictionary content when loading JSON files. This allows using different message formatting syntaxes compatible with various i18n libraries.\n\n- `'intlayer'`: The default Intlayer formatter (default).\n- `'icu'`: Uses ICU message formatting (compatible with libraries like react-intl, vue-i18n).\n- `'i18next'`: Uses i18next message formatting (compatible with i18next, next-i18next, Solid-i18next).\n\n**Example:**\n\n```ts\nloadJSON({\n  source: ({ key }) => `./src/**/${key}.i18n.json`,\n  locale: Locales.ENGLISH,\n  format: \"icu\", // Use ICU formatting for compatibility\n}),\n```\n\n### Behavior and conventions\n\n- If your `source` mask includes a locale placeholder, only files for the selected `locale` are ingested.\n- If there is no `{key}` segment in your mask, the dictionary key is \"index\".\n- Keys are derived from file paths by substituting the `{key}` placeholder in your `source` builder.\n- The plugin only uses discovered files and does not fabricate missing locales or keys.\n- The `fill` path is inferred from your `source` and used to update missing values via CLI when you opt‑in.\n\n## Conflict resolution\n\nWhen the same translation key exists in multiple JSON sources:\n\n1. The plugin with the highest priority determines the final value\n2. Lower priority sources are used as fallbacks for missing keys\n3. This allows you to maintain legacy translations while gradually migrating to new structures\n\n## CLI\n\nThe synchronized JSON files will be considered as other `.content` files. That means, all intlayer commands will be available for the synchronized JSON files. Including:\n\n- `intlayer content test` to test if there are missing translations\n- `intlayer content list` to list the synchronized JSON files\n- `intlayer content fill` to fill the missing translations\n- `intlayer content push` to push the synchronized JSON files\n- `intlayer content pull` to pull the synchronized JSON files\n\nSee [Intlayer CLI](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/cli/index.md) for more details.\n\n## Limitations (current)\n\n- No insertions or plurals/ICU support when targeting third‑party libraries.\n- Visual editor is not available for non‑Intlayer runtimes yet.\n- JSON synchronization only; non‑JSON catalog formats are not supported.\n\n## Why this matters\n\n- We can recommend established i18n solutions and position Intlayer as an add‑on.\n- We leverage their SEO/keywords with tutorials that end by suggesting Intlayer to manage JSON.\n- Expands the addressable audience from “new projects” to “any team already using i18n”.\n",
  "createdAt": "2025-03-13",
  "updatedAt": "2025-12-13",
  "title": "Sync JSON plugin",
  "description": "Synchronize Intlayer dictionaries with third‑party i18n JSON files (i18next, next-intl, react-intl, vue-i18n, and more). Keep your existing i18n while using Intlayer to manage, translate, and test your messages.",
  "keywords": [
    "Intlayer",
    "Sync JSON",
    "i18next",
    "next-intl",
    "react-intl",
    "vue-i18n",
    "next-translate",
    "nuxt-i18n",
    "LinguiJS",
    "Polyglot.js",
    "Solid-i18next",
    "svelte-i18n",
    "i18n",
    "translations"
  ],
  "slugs": [
    "doc",
    "plugin",
    "sync-json"
  ],
  "youtubeVideo": "https://www.youtube.com/watch?v=MpGMxniDHNg",
  "history": [
    {
      "version": "7.5.0",
      "date": "2025-12-13",
      "changes": "Add ICU and i18next format support"
    },
    {
      "version": "6.1.6",
      "date": "2025-10-05",
      "changes": "Initial Sync JSON plugin documentation"
    }
  ],
  "docKey": "./docs/en/plugins/sync-json.md",
  "githubUrl": "https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/plugins/sync-json.md",
  "relativeUrl": "/doc/plugin/sync-json",
  "url": "https://intlayer.org/doc/plugin/sync-json"
}