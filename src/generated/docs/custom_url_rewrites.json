{
  "id": "./docs/en/custom_url_rewrites.md",
  "content": "---\ncreatedAt: 2024-08-13\nupdatedAt: 2026-01-26\ntitle: Custom URL Rewrites\ndescription: Learn how to configure and use custom URL rewrites in Intlayer to define locale-specific paths.\nkeywords:\n  - Custom URL Rewrites\n  - Routing\n  - Internationalization\n  - i18n\nslugs:\n  - doc\n  - concept\n  - custom_url_rewrites\nhistory:\n  - version: 8.0.0\n    date: 2026-01-25\n    changes: Implement centralized URL rewrites with framework-specific formatters and the useRewriteURL hook.\n---\n\n# Custom URL Rewrites Implementation\n\nIntlayer supports custom URL rewrites, allowing you to define locale-specific paths that differ from the standard `/locale/path` structure. This enables URLs like `/about` for English and `/a-propos` for French while keeping the internal application logic canonical.\n\n## Configuration\n\nCustom rewrites are configured in the `routing` section of your `intlayer.config.ts` file using framework-specific formatters. These formatters provide the correct syntax for your preferred router.\n\n<Tabs group='routers'>\n  <Tab label=\"Next.js\" value=\"nextjs\">\n\n    ```typescript fileName=\"intlayer.config.ts\"\n    import { Locales, type IntlayerConfig } from \"intlayer\";\n    import { nextjsRewrite } from \"intlayer/routing\";\n\n    const config: IntlayerConfig = {\n      // ...\n      routing: {\n        mode: \"prefix-no-default\",\n        rewrite: nextjsRewrite({\n          \"/[locale]/about\": {\n            fr: \"/[locale]/a-propos\",\n            es: \"/[locale]/acerca-de\",\n          },\n          \"/[locale]/products/[id]\": {\n            fr: \"/[locale]/produits/[id]\",\n            es: \"/[locale]/productos/[id]\",\n          },\n        }),\n      },\n    };\n\n    export default config;\n    ```\n\n  </Tab>\n  <Tab label=\"React Router\" value=\"reactrouter\">\n\n    ```typescript fileName=\"intlayer.config.ts\"\n    import { Locales, type IntlayerConfig } from \"intlayer\";\n    import { reactRouterRewrite } from \"intlayer/routing\";\n\n    const config: IntlayerConfig = {\n      // ...\n      routing: {\n        mode: \"prefix-all\",\n        rewrite: reactRouterRewrite({\n          \"/:locale/about\": {\n            fr: \"/:locale/a-propos\",\n            es: \"/:locale/acerca-de\",\n          },\n          \"/:locale/products/:id\": {\n            fr: \"/:locale/produits/:id\",\n            es: \"/:locale/productos/:id\",\n          },\n        }),\n      },\n    };\n\n    export default config;\n    ```\n\n  </Tab>\n  <Tab label=\"TanStack Router\" value=\"tanstackrouter\">\n\n    ```typescript fileName=\"intlayer.config.ts\"\n    import { Locales, type IntlayerConfig } from \"intlayer\";\n    import { tanstackRouterRewrite } from \"intlayer/routing\";\n\n    const config: IntlayerConfig = {\n      // ...\n      routing: {\n        mode: \"prefix-all\",\n        rewrite: tanstackRouterRewrite({\n          \"/$locale/about\": {\n            fr: \"/$locale/a-propos\",\n            es: \"/$locale/acerca-de\",\n          },\n          \"/$locale/products/$id\": {\n            fr: \"/$locale/produits/$id\",\n            es: \"/$locale/productos/$id\",\n          },\n        }),\n      },\n    };\n\n    export default config;\n    ```\n\n  </Tab>\n  <Tab label=\"Vue Router\" value=\"vuerouter\">\n\n    ```typescript fileName=\"intlayer.config.ts\"\n    import { Locales, type IntlayerConfig } from \"intlayer\";\n    import { vueRouterRewrite } from \"intlayer/routing\";\n\n    const config: IntlayerConfig = {\n      // ...\n      routing: {\n        mode: \"prefix-all\",\n        rewrite: vueRouterRewrite({\n          \"/:locale/about\": {\n            fr: \"/:locale/a-propos\",\n            es: \"/:locale/acerca-de\",\n          },\n          \"/:locale/products/:id\": {\n            fr: \"/:locale/produits/:id\",\n            es: \"/:locale/productos/:id\",\n          },\n        }),\n      },\n    };\n\n    export default config;\n    ```\n\n  </Tab>\n  <Tab label=\"SvelteKit\" value=\"sveltekit\">\n\n    ```typescript fileName=\"intlayer.config.ts\"\n    import { Locales, type IntlayerConfig } from \"intlayer\";\n    import { svelteKitRewrite } from \"intlayer/routing\";\n\n    const config: IntlayerConfig = {\n      // ...\n      routing: {\n        mode: \"prefix-all\",\n        rewrite: svelteKitRewrite({\n          \"/[locale]/about\": {\n            fr: \"/[locale]/a-propos\",\n            es: \"/[locale]/acerca-de\",\n          },\n          \"/[locale]/products/[id]\": {\n            fr: \"/[locale]/produits/[id]\",\n            es: \"/[locale]/productos/[id]\",\n          },\n        }),\n      },\n    };\n\n    export default config;\n    ```\n\n  </Tab>\n  <Tab label=\"Solid Router\" value=\"solidrouter\">\n\n    ```typescript fileName=\"intlayer.config.ts\"\n    import { Locales, type IntlayerConfig } from \"intlayer\";\n    import { solidRouterRewrite } from \"intlayer/routing\";\n\n    const config: IntlayerConfig = {\n      // ...\n      routing: {\n        mode: \"prefix-all\",\n        rewrite: solidRouterRewrite({\n          \"/:locale/about\": {\n            fr: \"/:locale/a-propos\",\n            es: \"/:locale/acerca-de\",\n          },\n          \"/:locale/products/:id\": {\n            fr: \"/:locale/produits/:id\",\n            es: \"/:locale/productos/:id\",\n          },\n        }),\n      },\n    };\n\n    export default config;\n    ```\n\n  </Tab>\n  <Tab label=\"Nuxt\" value=\"nuxt\">\n\n    ```typescript fileName=\"intlayer.config.ts\"\n    import { Locales, type IntlayerConfig } from \"intlayer\";\n    import { nuxtRewrite } from \"intlayer/routing\";\n\n    const config: IntlayerConfig = {\n      // ...\n      routing: {\n        mode: \"prefix-all\",\n        rewrite: nuxtRewrite({\n          \"/[locale]/about\": {\n            fr: \"/[locale]/a-propos\",\n            es: \"/[locale]/acerca-de\",\n          },\n          \"/[locale]/products/[id]\": {\n            fr: \"/[locale]/produits/[id]\",\n            es: \"/[locale]/productos/[id]\",\n          },\n        }),\n      },\n    };\n\n    export default config;\n    ```\n\n  </Tab>\n</Tabs>\n\n### Available Formatters\n\nIntlayer provides formatters for all popular frameworks:\n\n- `nextjsRewrite`: For Next.js App Router. Supports `[slug]`, `[...slug]` (1+), and `[[...slug]]` (0+).\n- `svelteKitRewrite`: For SvelteKit. Supports `[slug]`, `[...path]` (0+), and `[[optional]]` (0-1).\n- `reactRouterRewrite`: For React Router. Supports `:slug` and `*` (0+).\n- `vueRouterRewrite`: For Vue Router 4. Supports `:slug`, `:slug?` (0-1), `:slug*` (0+), and `:slug+` (1+).\n- `solidRouterRewrite`: For Solid Router. Supports `:slug` and `*slug` (0+).\n- `tanstackRouterRewrite`: For TanStack Router. Supports `$slug` and `*` (0+).\n- `nuxtRewrite`: For Nuxt 3. Supports `[slug]` and `[...slug]` (0+).\n- `viteRewrite`: Generic formatter for any Vite-based project. Normalizes syntax for the Vite proxy.\n\n### Advanced Patterns\n\nIntlayer internally normalizes these patterns to a unified syntax, allowing sophisticated path matching and generation:\n\n- **Optional Segments**: `[[optional]]` (SvelteKit) or `:slug?` (Vue/React) are supported.\n- **Catch-all (Zero or more)**: `[[...slug]]` (Next.js), `[...path]` (SvelteKit/Nuxt), or `*` (React/TanStack) allow matching multiple segments.\n- **Mandatory Catch-all (One or more)**: `[...slug]` (Next.js) or `:slug+` (Vue) ensure at least one segment is present.\n\n## Client-Side URL Correction: `useRewriteURL`\n\nTo ensure that the browser's address bar always reflects the \"pretty\" localized URL, Intlayer provides the `useRewriteURL` hook. This hook silently updates the URL using `window.history.replaceState` when a user lands on a canonical path.\n\n### Usage in Frameworks\n\n<Tabs group='framework'>\n  <Tab label=\"Next.js\" value=\"nextjs\">\n  \n    ```tsx\n    'use client';\n\n    import { useRewriteURL } from \"next-intlayer\";\n\n    const MyLayout = ({ children }) => {\n      useRewriteURL(); // Automatically corrects /fr/about to /fr/a-propos\n      return <>{children}</>;\n    };\n    ```\n\n  </Tab>\n\n  <Tab label=\"React Router\" value=\"reactrouter\">\n  \n    ```tsx\n    'use client';\n\n    import { useRewriteURL } from \"react-intlayer\";\n\n    const MyLayout = ({ children }) => {\n      useRewriteURL(); // Automatically corrects /fr/about to /fr/a-propos\n\n      return <>{children}</>;\n    };\n    ```\n\n  </Tab>\n\n  <Tab label=\"Vue\" value=\"vue\">\n  \n    ```vue\n    <script setup>\n    import { useRewriteURL } from \"vue-intlayer\";\n\n    useRewriteURL();\n    </script>\n\n    ```\n\n  </Tab>\n  <Tab label=\"Solid\" value=\"solid\">\n  \n    ```tsx\n    import { useRewriteURL } from \"solid-intlayer\";\n\n    const Layout = (props) => {\n      useRewriteURL();\n      return <>{props.children}</>;\n    };\n    ```\n\n  </Tab>\n  <Tab label=\"Svelte\" value=\"svelte\">\n  \n    ```svelte\n    <script>\n    import { useRewriteURL } from \"svelte-intlayer\";\n\n    useRewriteURL();\n    </script>\n\n    ```\n\n  </Tab>\n</Tabs>\n\n## Router Integration & Proxies\n\nIntlayer's server-side proxies (Vite & Next.js) automatically handle custom rewrites to ensure SEO consistency.\n\n1. **Internal Rewrites**: When a user visits `/fr/a-propos`, the proxy internally maps it to `/fr/about` so your framework matches the correct route.\n2. **Authoritative Redirects**: If a user manually types `/fr/about`, the proxy issues a 301/302 redirect to `/fr/a-propos`, ensuring search engines only index one version of the page.\n\n### Next.js Integration\n\nNext.js integration is fully handled via the `intlayerProxy` middleware.\n\n```typescript fileName=\"middleware.ts\"\nimport { intlayerProxy } from \"next-intlayer/middleware\";\nimport { NextRequest } from \"next/server\";\n\nexport function middleware(request: NextRequest) {\n  return intlayerProxy(request);\n}\n```\n\n### Vite Integration\n\nFor SolidJS, Vue, and Svelte, the `intlayerProxy` Vite plugin manages the rewrites during development.\n\n```typescript fileName=\"vite.config.ts\"\nimport { defineConfig } from \"vite\";\nimport { intlayerProxy } from \"vite-intlayer\";\n\nexport default defineConfig({\n  plugins: [intlayerProxy()],\n});\n```\n\n## Key Features\n\n### 1. Multi-Context Rewrites\n\nEach formatter generates a `RewriteObject` containing specialized rules for different consumers:\n\n- `url`: Optimized for client-side URL generation (strips locale segments).\n- `nextjs`: Preserves `[locale]` for Next.js middleware.\n- `vite`: Preserves `:locale` for Vite proxies.\n\n### 2. Automatic Pattern Normalization\n\nIntlayer internally normalizes all pattern syntaxes (e.g., converting `[param]` to `:param`) so that matching remains consistent regardless of the source framework.\n\n### 3. SEO Authoritative URLs\n\nBy enforcing redirects from canonical paths to pretty aliases, Intlayer prevents duplicate content issues and improves site discoverability.\n\n## Core Utilities\n\n- `getLocalizedUrl(url, locale)`: Generates a localized URL respecting rewrite rules.\n- `getCanonicalPath(path, locale)`: Resolves a localized URL back to its internal canonical path.\n- `getRewritePath(pathname, locale)`: Detects if a pathname needs to be corrected to its prettier localized alias.\n",
  "createdAt": "2024-08-13",
  "updatedAt": "2026-01-26",
  "title": "Custom URL Rewrites",
  "description": "Learn how to configure and use custom URL rewrites in Intlayer to define locale-specific paths.",
  "keywords": [
    "Custom URL Rewrites",
    "Routing",
    "Internationalization",
    "i18n"
  ],
  "slugs": [
    "doc",
    "concept",
    "custom_url_rewrites"
  ],
  "history": [
    {
      "version": "8.0.0",
      "date": "2026-01-25",
      "changes": "Implement centralized URL rewrites with framework-specific formatters and the useRewriteURL hook."
    }
  ],
  "docKey": "./docs/en/custom_url_rewrites.md",
  "githubUrl": "https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/custom_url_rewrites.md",
  "relativeUrl": "/doc/concept/custom_url_rewrites",
  "url": "https://intlayer.org/doc/concept/custom_url_rewrites"
}