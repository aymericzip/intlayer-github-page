{
  "id": "./docs/en/formatters.md",
  "content": "---\ncreatedAt: 2024-08-13\nupdatedAt: 2026-01-20\ntitle: Formatters\ndescription: Locale-aware formatting utilities based on Intl for numbers, percentages, currency, dates, relative time, units, and compact notation. Includes a cached Intl helper.\nkeywords:\n  - Formatters\n  - Intl\n  - Number\n  - Currency\n  - Percentage\n  - Date\n  - Relative Time\n  - Units\n  - Compact\n  - List\n  - Internationalization\nslugs:\n  - doc\n  - formatters\nhistory:\n  - version: 8.0.0\n    date: 2026-01-20\n    changes: Add useIntl\n  - version: 6.2.0\n    date: 2025-10-14\n    changes: Remove getIntlayerAsync from formatters\n  - version: 5.8.0\n    date: 2025-08-20\n    changes: Add vue formatters\n  - version: 5.8.0\n    date: 2025-08-18\n    changes: Add formatters documentation\n  - version: 5.8.0\n    date: 2025-08-20\n    changes: Add list formatter documentation\n  - version: 5.8.0\n    date: 2025-08-20\n    changes: Add additional Intl utilities (DisplayNames, Collator, PluralRules)\n  - version: 5.8.0\n    date: 2025-08-20\n    changes: Add locale utilities (getLocaleName, getLocaleLang, getLocaleFromPath, etc.)\n  - version: 5.8.0\n    date: 2025-08-20\n    changes: Add content handling utilities (getContent, getTranslation, getIntlayer, etc.)\n---\n\n# Intlayer Formatters\n\n## Table of Contents\n\n<TOC/>\n\n## Overview\n\nIntlayer provides locale-aware formatting utilities built on top of the native `Intl` APIs. These formatters automatically use the current locale from your application context, eliminating the need to manually pass locale parameters.\n\n**For React, Vue, and other frameworks**, use the framework-specific hooks/composables that automatically bind to your app's locale context:\n\n| Framework                    | Import                                                               |\n| ---------------------------- | -------------------------------------------------------------------- |\n| **React** (client)           | `react-intlayer/format`                                              |\n| **React** (server)           | `react-intlayer/server/format`                                       |\n| **Next.js** (client)         | `next-intlayer/client/format`                                        |\n| **Next.js** (server)         | `next-intlayer/server/format`                                        |\n| **Vue**                      | `vue-intlayer/format`                                                |\n| **Preact**                   | `preact-intlayer/format`                                             |\n| **Vanilla JS / Node.js**     | `intlayer` (requires manual locale passing)                          |\n\n## React Formatters\n\n### Quick Start\n\n```tsx\nimport {\n  useNumber,\n  useCurrency,\n  useDate,\n  usePercentage,\n  useCompact,\n  useList,\n  useRelativeTime,\n  useUnit,\n  useIntl,\n} from \"react-intlayer/format\";\n// Next.js client: \"next-intlayer/client/format\"\n// Next.js server: \"next-intlayer/server/format\"\n// Preact: \"preact-intlayer/format\"\n\nconst PriceDisplay = () => {\n  const currency = useCurrency();\n  const percentage = usePercentage();\n\n  return (\n    <div>\n      <p>Price: {currency(1234.5, { currency: \"EUR\" })}</p>\n      <p>Discount: {percentage(0.25)}</p>\n    </div>\n  );\n};\n```\n\n### Available Hooks\n\nAll hooks automatically use the locale from `IntlayerProvider` or `IntlayerServerProvider`.\n\n| Hook             | Description                          | Example Output          |\n| ---------------- | ------------------------------------ | ----------------------- |\n| `useNumber()`    | Format numbers with grouping         | `\"123,456.789\"`         |\n| `useCurrency()`  | Format currency values               | `\"€1,234.50\"`           |\n| `usePercentage()`| Format percentages                   | `\"25%\"`                 |\n| `useDate()`      | Format dates and times               | `\"Aug 2, 2025\"`         |\n| `useRelativeTime()` | Format relative time              | `\"in 3 days\"`           |\n| `useUnit()`      | Format values with units             | `\"5 kilometers\"`        |\n| `useCompact()`   | Format numbers in compact notation   | `\"1.2K\"`                |\n| `useList()`      | Format arrays as lists               | `\"apple, banana, and orange\"` |\n| `useIntl()`      | Get locale-bound `Intl` object       | Full `Intl` API access  |\n\n### Complete Example\n\n```tsx\nimport {\n  useNumber,\n  useCurrency,\n  useDate,\n  usePercentage,\n  useCompact,\n  useList,\n  useRelativeTime,\n  useUnit,\n} from \"react-intlayer/format\";\n\nconst MyComponent = () => {\n  const number = useNumber();\n  const currency = useCurrency();\n  const date = useDate();\n  const percentage = usePercentage();\n  const compact = useCompact();\n  const list = useList();\n  const relativeTime = useRelativeTime();\n  const unit = useUnit();\n\n  return (\n    <div>\n      <p>{number(123456.789)}</p>\n      <p>{currency(1234.5, { currency: \"EUR\" })}</p>\n      <p>{date(new Date(), \"short\")}</p>\n      <p>{percentage(0.25)}</p>\n      <p>{compact(1200)}</p>\n      <p>{list([\"apple\", \"banana\", \"orange\"])}</p>\n      <p>{relativeTime(new Date(), new Date(Date.now() + 86400000))}</p>\n      <p>{unit(5, { unit: \"kilometer\" })}</p>\n    </div>\n  );\n};\n```\n\n### `useIntl` Hook\n\nThe `useIntl` hook provides direct access to a locale-bound `Intl` object. This is useful when you need the full `Intl` API (e.g., `DisplayNames`, `Collator`, `PluralRules`) with automatic locale injection.\n\n```tsx\nimport { useIntl } from \"react-intlayer/format\";\n\nconst MyComponent = () => {\n  const intl = useIntl(); // uses context locale\n\n  // Standard Intl API, but locale is auto-injected when undefined\n  const formatted = new intl.NumberFormat(undefined, {\n    style: \"currency\",\n    currency: \"USD\",\n  }).format(123.45);\n\n  // You can still override the locale if needed\n  const date = new intl.DateTimeFormat(\"fr-FR\").format(new Date());\n\n  // Access other Intl features\n  const displayNames = new intl.DisplayNames(undefined, { type: \"language\" });\n  const languageName = displayNames.of(\"fr\"); // \"French\" (or localized)\n\n  return (\n    <div>\n      <p>{formatted}</p>\n      <p>{date}</p>\n      <p>{languageName}</p>\n    </div>\n  );\n};\n```\n\n## Vue Formatters\n\n### Quick Start\n\n```vue\n<script setup>\nimport {\n  useNumber,\n  useCurrency,\n  useDate,\n  usePercentage,\n  useCompact,\n  useList,\n  useRelativeTime,\n  useUnit,\n  useIntl,\n} from \"vue-intlayer/format\";\n\nconst currency = useCurrency();\nconst percentage = usePercentage();\n</script>\n\n<template>\n  <div>\n    <p>Price: {{ currency.value(1234.5, { currency: \"EUR\" }) }}</p>\n    <p>Discount: {{ percentage.value(0.25) }}</p>\n  </div>\n</template>\n```\n\n### Available Composables\n\nAll composables return computed refs that automatically use the locale from the injected `IntlayerProvider`.\n\n| Composable       | Description                          | Example Output          |\n| ---------------- | ------------------------------------ | ----------------------- |\n| `useNumber()`    | Format numbers with grouping         | `\"123,456.789\"`         |\n| `useCurrency()`  | Format currency values               | `\"€1,234.50\"`           |\n| `usePercentage()`| Format percentages                   | `\"25%\"`                 |\n| `useDate()`      | Format dates and times               | `\"Aug 2, 2025\"`         |\n| `useRelativeTime()` | Format relative time              | `\"in 3 days\"`           |\n| `useUnit()`      | Format values with units             | `\"5 kilometers\"`        |\n| `useCompact()`   | Format numbers in compact notation   | `\"1.2K\"`                |\n| `useList()`      | Format arrays as lists               | `\"apple, banana, and orange\"` |\n| `useIntl()`      | Get locale-bound `Intl` object       | Full `Intl` API access  |\n\n### Complete Example\n\n```vue\n<script setup>\nimport {\n  useNumber,\n  useCurrency,\n  useDate,\n  usePercentage,\n  useCompact,\n  useList,\n  useRelativeTime,\n  useUnit,\n} from \"vue-intlayer/format\";\n\nconst number = useNumber();\nconst currency = useCurrency();\nconst date = useDate();\nconst percentage = usePercentage();\nconst compact = useCompact();\nconst list = useList();\nconst relativeTime = useRelativeTime();\nconst unit = useUnit();\n</script>\n\n<template>\n  <div>\n    <p>{{ number.value(123456.789) }}</p>\n    <p>{{ currency.value(1234.5, { currency: \"EUR\" }) }}</p>\n    <p>{{ date.value(new Date(), \"short\") }}</p>\n    <p>{{ percentage.value(0.25) }}</p>\n    <p>{{ compact.value(1200) }}</p>\n    <p>{{ list.value([\"apple\", \"banana\", \"orange\"]) }}</p>\n    <p>{{ relativeTime.value(new Date(), new Date(Date.now() + 86400000)) }}</p>\n    <p>{{ unit.value(5, { unit: \"kilometer\" }) }}</p>\n  </div>\n</template>\n```\n\n### `useIntl` Composable\n\nThe `useIntl` composable provides direct access to a locale-bound `Intl` object. This is useful when you need the full `Intl` API with automatic locale injection.\n\n```vue\n<script setup>\nimport { useIntl } from \"vue-intlayer/format\";\n\nconst intl = useIntl(); // uses context locale\n\n// Standard Intl API, but locale is auto-injected when undefined\nconst formatted = new intl.value.NumberFormat(undefined, {\n  style: \"currency\",\n  currency: \"USD\",\n}).format(123.45);\n\n// You can still override the locale if needed\nconst date = new intl.value.DateTimeFormat(\"fr-FR\").format(new Date());\n\n// Access other Intl features\nconst displayNames = new intl.value.DisplayNames(undefined, { type: \"language\" });\nconst languageName = displayNames.of(\"fr\");\n</script>\n\n<template>\n  <div>\n    <p>{{ formatted }}</p>\n    <p>{{ date }}</p>\n    <p>{{ languageName }}</p>\n  </div>\n</template>\n```\n\n## Vanilla JS / Node.js Formatters\n\nFor non-framework contexts, import formatters directly from `intlayer`. Note that you must pass the locale manually.\n\n### Import\n\n```ts\nimport {\n  number,\n  percentage,\n  currency,\n  date,\n  relativeTime,\n  units,\n  compact,\n  list,\n  Intl,\n} from \"intlayer\";\n```\n\n### Formatter Functions\n\n#### `number(value, options?)`\n\nFormats a numeric value using locale-aware grouping and decimals.\n\n- **value**: `number | string`\n- **options**: `Intl.NumberFormatOptions & { locale?: LocalesValues }`\n\n```ts\nnumber(123456.789); // \"123,456.789\" (in en-US)\nnumber(\"1000000\", { locale: \"fr\" }); // \"1 000 000\"\nnumber(1234.5, { minimumFractionDigits: 2 }); // \"1,234.50\"\n```\n\n#### `percentage(value, options?)`\n\nFormats a number as a percentage string. Values greater than 1 are normalized (e.g., `25` → `25%`, `0.25` → `25%`).\n\n- **value**: `number | string`\n- **options**: `Intl.NumberFormatOptions & { locale?: LocalesValues }`\n\n```ts\npercentage(0.25); // \"25%\"\npercentage(25); // \"25%\"\npercentage(0.237, { minimumFractionDigits: 1 }); // \"23.7%\"\n```\n\n#### `currency(value, options?)`\n\nFormats a value as localized currency. Defaults to `USD`.\n\n- **value**: `number | string`\n- **options**: `Intl.NumberFormatOptions & { locale?: LocalesValues }`\n  - Common: `currency`, `currencyDisplay` (`\"symbol\" | \"code\" | \"name\"`)\n\n```ts\ncurrency(1234.5, { currency: \"EUR\" }); // \"€1,234.50\"\ncurrency(\"5000\", { locale: \"fr\", currency: \"CAD\", currencyDisplay: \"code\" }); // \"5 000,00 CAD\"\n```\n\n#### `date(date, optionsOrPreset?)`\n\nFormats a date/time value.\n\n- **date**: `Date | string | number`\n- **optionsOrPreset**: `Intl.DateTimeFormatOptions & { locale?: LocalesValues }` or preset: `\"short\" | \"long\" | \"dateOnly\" | \"timeOnly\" | \"full\"`\n\n```ts\ndate(new Date(), \"short\"); // e.g., \"08/02/25, 14:30\"\ndate(\"2025-08-02T14:30:00Z\", { locale: \"fr\", month: \"long\", day: \"numeric\" }); // \"2 août\"\n```\n\n#### `relativeTime(from, to?, options?)`\n\nFormats relative time between two instants.\n\n- **from**: `Date | string | number`\n- **to**: `Date | string | number` (defaults to `new Date()`)\n- **options**: `{ locale?, unit?, numeric?, style? }`\n\n```ts\nconst now = new Date();\nconst in3Days = new Date(now.getTime() + 3 * 864e5);\nrelativeTime(now, in3Days, { unit: \"day\" }); // \"in 3 days\"\n\nconst twoHoursAgo = new Date(now.getTime() - 2 * 3600e3);\nrelativeTime(now, twoHoursAgo, { unit: \"hour\", numeric: \"auto\" }); // \"2 hours ago\"\n```\n\n#### `units(value, options?)`\n\nFormats a numeric value with a unit.\n\n- **value**: `number | string`\n- **options**: `Intl.NumberFormatOptions & { locale?: LocalesValues }`\n  - Common: `unit` (e.g., `\"kilometer\"`, `\"byte\"`), `unitDisplay` (`\"short\" | \"narrow\" | \"long\"`)\n\n```ts\nunits(5, { unit: \"kilometer\", unitDisplay: \"long\", locale: \"en-GB\" }); // \"5 kilometers\"\nunits(1024, { unit: \"byte\", unitDisplay: \"narrow\" }); // \"1,024B\"\n```\n\n#### `compact(value, options?)`\n\nFormats a number using compact notation.\n\n- **value**: `number | string`\n- **options**: `Intl.NumberFormatOptions & { locale?: LocalesValues }`\n\n```ts\ncompact(1200); // \"1.2K\"\ncompact(\"1000000\", { locale: \"fr\", compactDisplay: \"long\" }); // \"1 million\"\n```\n\n#### `list(values, options?)`\n\nFormats an array into a localized list string.\n\n- **values**: `(string | number)[]`\n- **options**: `Intl.ListFormatOptions & { locale?: LocalesValues }`\n  - Common: `type` (`\"conjunction\" | \"disjunction\" | \"unit\"`), `style` (`\"long\" | \"short\" | \"narrow\"`)\n\n```ts\nlist([\"apple\", \"banana\", \"orange\"]); // \"apple, banana, and orange\"\nlist([\"red\", \"green\", \"blue\"], { locale: \"fr\", type: \"disjunction\" }); // \"rouge, vert ou bleu\"\n```\n\n## Cached Intl\n\nThe exported `Intl` from `intlayer` is a cached wrapper around the global `Intl`. It memoizes formatter instances (`NumberFormat`, `DateTimeFormat`, etc.) to avoid repeatedly constructing them, improving performance.\n\n```ts\nimport { Intl } from \"intlayer\";\n\n// Number formatting\nconst numberFormat = new Intl.NumberFormat(\"en-GB\", {\n  style: \"currency\",\n  currency: \"GBP\",\n});\nnumberFormat.format(1234.5); // \"£1,234.50\"\n\n// Display names for languages, regions, etc.\nconst displayNames = new Intl.DisplayNames(\"fr\", { type: \"language\" });\ndisplayNames.of(\"en\"); // \"anglais\"\n\n// Collation for sorting\nconst collator = new Intl.Collator(\"fr\", { sensitivity: \"base\" });\ncollator.compare(\"é\", \"e\"); // 0 (equal)\n\n// Plural rules\nconst pluralRules = new Intl.PluralRules(\"fr\");\npluralRules.select(1); // \"one\"\npluralRules.select(2); // \"other\"\n```\n\n### Additional Intl Features\n\n#### `Intl.DisplayNames`\n\nFor localized names of languages, regions, currencies, and scripts:\n\n```ts\nimport { Intl } from \"intlayer\";\n\nconst languageNames = new Intl.DisplayNames(\"en\", { type: \"language\" });\nlanguageNames.of(\"fr\"); // \"French\"\n\nconst regionNames = new Intl.DisplayNames(\"fr\", { type: \"region\" });\nregionNames.of(\"US\"); // \"États-Unis\"\n```\n\n#### `Intl.Collator`\n\nFor locale-aware string comparison and sorting:\n\n```ts\nimport { Intl } from \"intlayer\";\n\nconst collator = new Intl.Collator(\"de\", {\n  sensitivity: \"base\",\n  numeric: true,\n});\n\nconst words = [\"äpfel\", \"zebra\", \"100\", \"20\"];\nwords.sort(collator.compare); // [\"20\", \"100\", \"äpfel\", \"zebra\"]\n```\n\n#### `Intl.PluralRules`\n\nFor determining plural forms in different locales:\n\n```ts\nimport { Intl } from \"intlayer\";\n\nconst pluralRules = new Intl.PluralRules(\"ar\");\npluralRules.select(0); // \"zero\"\npluralRules.select(1); // \"one\"\npluralRules.select(2); // \"two\"\npluralRules.select(3); // \"few\"\npluralRules.select(11); // \"many\"\n```\n\n## Locale Utilities\n\n### `getLocaleName(displayLocale, targetLocale?)`\n\nGets the localized name of a locale:\n\n```ts\nimport { getLocaleName } from \"intlayer\";\n\ngetLocaleName(\"fr\", \"en\"); // \"French\"\ngetLocaleName(\"en\", \"fr\"); // \"anglais\"\ngetLocaleName(\"de\", \"es\"); // \"alemán\"\n```\n\n### `getLocaleLang(locale?)`\n\nExtracts the language code from a locale string:\n\n```ts\nimport { getLocaleLang } from \"intlayer\";\n\ngetLocaleLang(\"en-US\"); // \"en\"\ngetLocaleLang(\"fr-CA\"); // \"fr\"\n```\n\n### `getLocaleFromPath(inputUrl)`\n\nExtracts the locale segment from a URL or pathname:\n\n```ts\nimport { getLocaleFromPath } from \"intlayer\";\n\ngetLocaleFromPath(\"/en/dashboard\"); // \"en\"\ngetLocaleFromPath(\"/fr/dashboard\"); // \"fr\"\ngetLocaleFromPath(\"/dashboard\"); // \"en\" (default locale)\n```\n\n### `getPathWithoutLocale(inputUrl, locales?)`\n\nRemoves the locale segment from a URL:\n\n```ts\nimport { getPathWithoutLocale } from \"intlayer\";\n\ngetPathWithoutLocale(\"/en/dashboard\"); // \"/dashboard\"\ngetPathWithoutLocale(\"/fr/dashboard\"); // \"/dashboard\"\n```\n\n### `getLocalizedUrl(url, currentLocale, locales?, defaultLocale?, prefixDefault?)`\n\nGenerates a localized URL:\n\n```ts\nimport { getLocalizedUrl } from \"intlayer\";\n\ngetLocalizedUrl(\"/about\", \"fr\", [\"en\", \"fr\"], \"en\", false); // \"/fr/about\"\ngetLocalizedUrl(\"/about\", \"en\", [\"en\", \"fr\"], \"en\", false); // \"/about\"\n```\n\n### `getHTMLTextDir(locale?)`\n\nReturns the text direction for a locale:\n\n```ts\nimport { getHTMLTextDir } from \"intlayer\";\n\ngetHTMLTextDir(\"en-US\"); // \"ltr\"\ngetHTMLTextDir(\"ar\"); // \"rtl\"\ngetHTMLTextDir(\"he\"); // \"rtl\"\n```\n\n## Content Handling Utilities\n\n### `getContent(node, nodeProps, locale?)`\n\nTransforms a content node with all available plugins:\n\n```ts\nimport { getContent } from \"intlayer\";\n\nconst content = getContent(\n  contentNode,\n  { dictionaryKey: \"common\", dictionaryPath: \"/path/to/dict\" },\n  \"fr\"\n);\n```\n\n### `getTranslation(languageContent, locale?, fallback?)`\n\nExtracts content for a specific locale:\n\n```ts\nimport { getTranslation } from \"intlayer\";\n\nconst content = getTranslation(\n  { en: \"Hello\", fr: \"Bonjour\", de: \"Hallo\" },\n  \"fr\",\n  true\n); // \"Bonjour\"\n```\n\n### `getIntlayer(dictionaryKey, locale?, plugins?)`\n\nRetrieves and transforms content from a dictionary:\n\n```ts\nimport { getIntlayer } from \"intlayer\";\n\nconst content = getIntlayer(\"common\", \"fr\");\n```\n\n## Notes\n\n- All helpers accept `string` inputs; they are internally coerced to numbers or dates.\n- Locale defaults to your configured `internationalization.defaultLocale` if not provided.\n- These utilities are thin wrappers; for advanced formatting, pass through the standard `Intl` options.\n",
  "createdAt": "2024-08-13",
  "updatedAt": "2026-01-20",
  "title": "Formatters",
  "description": "Locale-aware formatting utilities based on Intl for numbers, percentages, currency, dates, relative time, units, and compact notation. Includes a cached Intl helper.",
  "keywords": [
    "Formatters",
    "Intl",
    "Number",
    "Currency",
    "Percentage",
    "Date",
    "Relative Time",
    "Units",
    "Compact",
    "List",
    "Internationalization"
  ],
  "slugs": [
    "doc",
    "formatters"
  ],
  "history": [
    {
      "version": "8.0.0",
      "date": "2026-01-20",
      "changes": "Add useIntl"
    },
    {
      "version": "6.2.0",
      "date": "2025-10-14",
      "changes": "Remove getIntlayerAsync from formatters"
    },
    {
      "version": "5.8.0",
      "date": "2025-08-20",
      "changes": "Add vue formatters"
    },
    {
      "version": "5.8.0",
      "date": "2025-08-18",
      "changes": "Add formatters documentation"
    },
    {
      "version": "5.8.0",
      "date": "2025-08-20",
      "changes": "Add list formatter documentation"
    },
    {
      "version": "5.8.0",
      "date": "2025-08-20",
      "changes": "Add additional Intl utilities (DisplayNames, Collator, PluralRules)"
    },
    {
      "version": "5.8.0",
      "date": "2025-08-20",
      "changes": "Add locale utilities (getLocaleName, getLocaleLang, getLocaleFromPath, etc.)"
    },
    {
      "version": "5.8.0",
      "date": "2025-08-20",
      "changes": "Add content handling utilities (getContent, getTranslation, getIntlayer, etc.)"
    }
  ],
  "docKey": "./docs/en/formatters.md",
  "githubUrl": "https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/formatters.md",
  "relativeUrl": "/doc/formatters",
  "url": "https://intlayer.org/doc/formatters"
}