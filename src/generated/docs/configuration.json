{
  "id": "./docs/en/configuration.md",
  "content": "---\ncreatedAt: 2024-08-13\nupdatedAt: 2026-01-24\ntitle: Configuration\ndescription: Learn how to configure Intlayer for your application. Understand the various settings and options available to customize Intlayer to your needs.\nkeywords:\n  - Configuration\n  - Settings\n  - Customization\n  - Intlayer\n  - Options\nslugs:\n  - doc\n  - concept\n  - configuration\nhistory:\n  - version: 8.0.0\n    date: 2026-01-24\n    changes: Rename `live` import mode to `fetch` to better describe the underlying mechanism.\n  - version: 8.0.0\n    date: 2026-01-22\n    changes: Move `importMode` build configuration to `dictionary` configuration.\n  - version: 8.0.0\n    date: 2026-01-22\n    changes: Add `rewrite` option to the routing configuration\n  - version: 8.0.0\n    date: 2026-01-18\n    changes: Separate system configuration from content configuration. Move internal paths to `system` property. Add `codeDir` to separate content files from code transformation.\n  - version: 8.0.0\n    date: 2026-01-18\n    changes: Add `location` and `schema` dictionary options\n  - version: 7.5.1\n    date: 2026-01-10\n    changes: Add support for JSON5 and JSONC file formats\n  - version: 7.5.0\n    date: 2025-12-17\n    changes: Add `buildMode` option\n  - version: 7.0.0\n    date: 2025-10-25\n    changes: Add `dictionary` configuration\n  - version: 7.0.0\n    date: 2025-10-21\n    changes: Replace `middleware` by `routing` configuration\n  - version: 7.0.0\n    date: 2025-10-12\n    changes: Add `formatCommand` option\n  - version: 6.2.0\n    date: 2025-10-12\n    changes: Update `excludedPath` option\n  - version: 6.0.2\n    date: 2025-09-23\n    changes: Add `outputFormat` option\n  - version: 6.0.0\n    date: 2025-09-21\n    changes: Remove `dictionaryOutput` field and `i18nextResourcesDir` field\n  - version: 6.0.0\n    date: 2025-09-16\n    changes: Add `live` import mode\n  - version: 6.0.0\n    date: 2025-09-04\n    changes: Replace `hotReload` field by `liveSync` and add `liveSyncPort` and `liveSyncURL` fields\n  - version: 5.6.1\n    date: 2025-07-25\n    changes: Replace `activateDynamicImport` with `importMode` option\n  - version: 5.6.0\n    date: 2025-07-13\n    changes: Change default contentDir from `['src']` to `['.']`\n  - version: 5.5.11\n    date: 2025-06-29\n    changes: Add `docs` commands\n---\n\n# Intlayer Configuration Documentation\n\n## Overview\n\nIntlayer configuration files allow customization of various aspects of the plugin, such as internationalization, middleware, and content handling. This document provides a detailed description of each property in the configuration.\n\n---\n\n## Table of Contents\n\n<TOC/>\n\n---\n\n## Configuration File Support\n\nIntlayer accepts JSON, JS, MJS, and TS configuration file formats:\n\n- `intlayer.config.ts`\n- `intlayer.config.js`\n- `intlayer.config.json`\n- `intlayer.config.json5`\n- `intlayer.config.jsonc`\n- `intlayer.config.cjs`\n- `intlayer.config.mjs`\n- `.intlayerrc`\n\n---\n\n## Example config file\n\n```typescript fileName=\"intlayer.config.ts\" codeFormat=\"typescript\"\nimport { Locales, type IntlayerConfig } from \"intlayer\";\nimport { z } from \"zod\";\n\n/**\n * Example Intlayer configuration file showing all available options.\n */\nconst config: IntlayerConfig = {\n  /**\n   * Configuration for internationalization settings.\n   */\n  internationalization: {\n    /**\n     * List of supported locales in the application.\n     * Default: [Locales.ENGLISH]\n     */\n    locales: [Locales.ENGLISH, Locales.FRENCH, Locales.SPANISH],\n\n    /**\n     * List of required locales that must be defined in every dictionary.\n     * If empty, all locales are required in `strict` mode.\n     * Default: []\n     */\n    requiredLocales: [Locales.ENGLISH],\n\n    /**\n     * Strictness level for internationalized content.\n     * - \"strict\": Errors if any declared locale is missing or undeclared.\n     * - \"inclusive\": Warnings if a declared locale is missing.\n     * - \"loose\": Accepts any existing locale.\n     * Default: \"inclusive\"\n     */\n    strictMode: \"inclusive\",\n\n    /**\n     * Default locale used as a fallback if the requested locale is not found.\n     * Default: Locales.ENGLISH\n     */\n    defaultLocale: Locales.ENGLISH,\n  },\n\n  /**\n   * Settings that control dictionary operations and fallback behavior.\n   */\n  dictionary: {\n    /**\n     * Controls how dictionaries are imported.\n     * - \"static\": Statically imported at build time.\n     * - \"dynamic\": Dynamically imported using Suspense.\n     * - \"fetch\": Fetched dynamically via the live sync API.\n     * Default: \"static\"\n     */\n    importMode: \"static\",\n\n    /**\n     * Strategy for auto-filling missing translations using AI.\n     * Can be a boolean or a path pattern to store filled content.\n     * Default: true\n     */\n    fill: true,\n\n    /**\n     * Physical location of the dictionary files.\n     * - \"local\": Stored in the local filesystem.\n     * - \"remote\": Stored in the Intlayer CMS.\n     * - \"hybrid\": Stored in the local filesystem and the Intlayer CMS.\n     * - \"plugin\" (or any custom string): Provided by a plugin or a custom source.\n     * Default: \"local\"\n     */\n    location: \"local\",\n\n    /**\n     * Whether to automatically transform content (e.g., Markdown to HTML).\n     * Default: false\n     */\n    contentAutoTransformation: false,\n  },\n\n  /**\n   * Routing and middleware configuration.\n   */\n  routing: {\n    /**\n     * Locale routing strategy.\n     * - \"prefix-no-default\": Prefix all except the default locale (e.g., /dashboard, /fr/dashboard).\n     * - \"prefix-all\": Prefix all locales (e.g., /en/dashboard, /fr/dashboard).\n     * - \"no-prefix\": No locale in the URL.\n     * - \"search-params\": Use ?locale=...\n     * Default: \"prefix-no-default\"\n     */\n    mode: \"prefix-no-default\",\n\n    /**\n     * Where to store the user's selected locale.\n     * Options: 'cookie', 'localStorage', 'sessionStorage', 'header', or an array of these.\n     * Default: ['cookie', 'header']\n     */\n    storage: \"cookie\",\n\n    /**\n     * Base path for the application URLs.\n     * Default: \"\"\n     */\n    basePath: \"\",\n\n    /**\n     * Custom URL rewriting rules for locale-specific paths.\n     */\n    rewrite: {\n      \"/about\": {\n        en: \"/about\",\n        fr: \"/a-propos\",\n      },\n    },\n  },\n\n  /**\n   * Settings for finding and processing content files.\n   */\n  content: {\n    /**\n     * File extensions to scan for dictionaries.\n     * Default: ['.content.ts', '.content.js', '.content.json', etc.]\n     */\n    fileExtensions: [\".content.ts\", \".content.js\", \".content.json\"],\n\n    /**\n     * Directories where .content files are located.\n     * Default: [\".\"]\n     */\n    contentDir: [\"src\"],\n\n    /**\n     * Directories where source code is located.\n     * Used for build optimization and code transformation.\n     * Default: [\".\"]\n     */\n    codeDir: [\"src\"],\n\n    /**\n     * Patterns to exclude from scanning.\n     * Default: ['node_modules', '.intlayer', etc.]\n     */\n    excludedPath: [\"node_modules\"],\n\n    /**\n     * Whether to watch for changes and rebuild dictionaries in development.\n     * Default: true in development\n     */\n    watch: true,\n\n    /**\n     * Command to format newly created / updated .content files.\n     */\n    formatCommand: 'npx prettier --write \"{{file}}\"',\n  },\n\n  /**\n   * Visual Editor configuration.\n   */\n  editor: {\n    /**\n     * Whether the visual editor is enabled.\n     * Default: true\n     */\n    enabled: true,\n\n    /**\n     * URL of your application for origin validation.\n     * Default: \"*\"\n     */\n    applicationURL: \"http://localhost:3000\",\n\n    /**\n     * Port for the local editor server.\n     * Default: 8000\n     */\n    port: 8000,\n\n    /**\n     * Public URL for the editor.\n     * Default: \"http://localhost:8000\"\n     */\n    editorURL: \"http://localhost:8000\",\n\n    /**\n     * Intlayer CMS URL.\n     * Default: \"https://app.intlayer.org\"\n     */\n    cmsURL: \"https://app.intlayer.org\",\n\n    /**\n     * Backend API URL.\n     * Default: \"https://back.intlayer.org\"\n     */\n    backendURL: \"https://back.intlayer.org\",\n\n    /**\n     * Whether to enable real-time content synchronization.\n     * Default: false\n     */\n    liveSync: true,\n  },\n\n  /**\n   * AI-powered translation and generation settings.\n   */\n  ai: {\n    /**\n     * AI provider to use.\n     * Options: 'openai', 'anthropic', 'mistral', 'deepseek', 'gemini', 'ollama'\n     * Default: 'openai'\n     */\n    provider: \"openai\",\n\n    /**\n     * Model to use from the selected provider.\n     */\n    model: \"gpt-4o\",\n\n    /**\n     * Provider API key.\n     */\n    apiKey: process.env.OPENAI_API_KEY,\n\n    /**\n     * Global context to guide the AI in generating translations.\n     */\n    applicationContext: \"This is a travel booking application.\",\n\n    /**\n     * Base URL for the AI API.\n     */\n    baseURL: \"http://localhost:3000\",\n  },\n\n  /**\n   * Build and optimization settings.\n   */\n  build: {\n    /**\n     * Build execution mode.\n     * - \"auto\": Automatic build during app build.\n     * - \"manual\": Requires explicit build command.\n     * Default: \"auto\"\n     */\n    mode: \"auto\",\n\n    /**\n     * Whether to optimize the final bundle by pruning unused dictionaries.\n     * Default: true in production\n     */\n    optimize: true,\n\n    /**\n     * Output format for generated dictionary files.\n     * Default: ['esm', 'cjs']\n     */\n    outputFormat: [\"esm\"],\n  },\n\n  /**\n   * Logger configuration.\n   */\n  log: {\n    /**\n     * Logging level.\n     * - \"default\": Standard logging.\n     * - \"verbose\": Detailed debug logging.\n     * - \"disabled\": No logging.\n     * Default: \"default\"\n     */\n    mode: \"default\",\n\n    /**\n     * Prefix for all log messages.\n     * Default: \"[intlayer]\"\n     */\n    prefix: \"[intlayer]\",\n  },\n\n  /**\n   * System configuration (Advanced use cases)\n   */\n  system: {\n    /**\n     * Directory for storing localization dictionaries.\n     */\n    dictionariesDir: \".intlayer/dictionary\",\n\n    /**\n     * Directory for module augmentation.\n     */\n    moduleAugmentationDir: \".intlayer/types\",\n\n    /**\n     * Directory for storing unmerged dictionaries.\n     */\n    unmergedDictionariesDir: \".intlayer/unmerged_dictionary\",\n\n    /**\n     * Directory for storing dictionary types.\n     */\n    typesDir: \".intlayer/types\",\n\n    /**\n     * Directory where main application files are stored.\n     */\n    mainDir: \".intlayer/main\",\n\n    /**\n     * Directory where the configuration files are stored.\n     */\n    configDir: \".intlayer/config\",\n\n    /**\n     * Directory where the cache files are stored.\n     */\n    cacheDir: \".intlayer/cache\",\n  },\n\n  /**\n   * Compiler configuration (Advanced use cases)\n   */\n  compiler: {\n    /**\n     * Indicates if the compiler should be enabled.\n     */\n    enabled: true,\n\n    /**\n     * Pattern to traverse the code to optimize.\n     */\n    transformPattern: [\"**/*.{js,ts,mjs,cjs,jsx,tsx}\", \"!**/node_modules/**\"],\n\n    /**\n     * Pattern to exclude from the optimization.\n     */\n    excludePattern: [\"**/node_modules/**\"],\n\n    /**\n     * Output directory for the optimized dictionaries.\n     */\n    outputDir: \"compiler\",\n  },\n\n  /**\n   * Custom schemas to validate the dictionaries content.\n   */\n  schemas: {\n    \"my-schema\": z.object({\n      title: z.string(),\n    }),\n  },\n\n  /**\n   * Plugins configuration.\n   */\n  plugins: [],\n};\n\nexport default config;\n```\n\n---\n\n## Configuration Reference\n\nThe following sections describe the various configuration settings available for Intlayer.\n\n---\n\n### Internationalization Configuration\n\nDefines settings related to internationalization, including available locales and the default locale for the application.\n\n#### Properties\n\n- **locales**:\n  - _Type_: `string[]`\n  - _Default_: `['en']`\n  - _Description_: The list of supported locales in the application.\n  - _Example_: `['en', 'fr', 'es']`\n\n- **requiredLocales**:\n  - _Type_: `string[]`\n  - _Default_: `[]`\n  - _Description_: The list of required locales in the application.\n  - _Example_: `[]`\n  - _Note_: If empty, all locales are required in `strict` mode.\n  - _Note_: Ensure required locales are also defined in the `locales` field.\n- **strictMode**:\n  - _Type_: `string`\n  - _Default_: `inclusive`\n  - _Description_: Ensure strong implementations of internationalized content using typescript.\n  - _Note_: If set to \"strict\", the translation `t` function will require each declared locales to be defined. If one locale is missing, or if a locale is not declared in your config, it will throw an error.\n  - _Note_: If set to \"inclusive\", the translation `t` function will require each declared locales to be defined. If one locale is missing, it will throw a warning. But will accept if a locale is not declared in your config, but exists.\n  - _Note_: If set to \"loose\", the translation `t` function will accept any existing locale.\n\n- **defaultLocale**:\n  - _Type_: `string`\n  - _Default_: `'en'`\n  - _Description_: The default locale used as a fallback if the requested locale is not found.\n  - _Example_: `'en'`\n  - _Note_: This is used to determine the locale when none is specified in the URL, cookie, or header.\n\n---\n\n### Editor Configuration\n\nDefines settings related to the integrated editor, including server port and active status.\n\n#### Properties\n\n- **applicationURL**:\n  - _Type_: `string`\n  - _Default_: `http://localhost:3000`\n  - _Description_: The URL of the application. Used to restrict the origin of the editor for security reasons.\n  - _Example_:\n    - `'http://localhost:3000'`\n    - `'https://example.com'`\n    - `process.env.INTLAYER_EDITOR_URL`\n  - _Note_: The URL of the application. Used to restrict the origin of the editor for security reasons. If set to `'*'`, the editor is accessible from any origin.\n\n- **port**:\n  - _Type_: `number`\n  - _Default_: `8000`\n  - _Description_: The port used by the visual editor server.\n\n- **editorURL**:\n  - _Type_: `string`\n  - _Default_: `'http://localhost:8000'`\n  - _Description_: The URL of the editor server. Used to restrict the origin of the editor for security reasons.\n    - `'http://localhost:3000'`\n    - `'https://example.com'`\n    - `process.env.INTLAYER_EDITOR_URL`\n  - _Note_: The URL of the editor server to reach from the application. Used to restrict the origins that can interact with the application for security reasons. If set to `'*'`, the editor is accessible from any origin. Should be set if port is changed, or if the editor is hosted on a different domain.\n\n- **cmsURL**:\n  - _Type_: `string`\n  - _Default_: `'https://intlayer.org'`\n  - _Description_: The URL of the Intlayer CMS.\n  - _Example_: `'https://intlayer.org'`\n  - _Note_: The URL of the Intlayer CMS.\n\n- **backendURL**:\n  - _Type_: `string`\n  - _Default_: `https://back.intlayer.org`\n  - _Description_: The URL of the backend server.\n  - _Example_: `http://localhost:4000`\n\n- **enabled**:\n  - _Type_: `boolean`\n  - _Default_: `true`\n  - _Description_: Indicates if the application interact with the visual editor.\n  - _Example_: `process.env.NODE_ENV !== 'production'`\n  - _Note_: If true, the editor will be able to interact with the application. If false, the editor will not be able to interact with the application. In any case, the editor can only be enabled by the visual editor. Disabling the editor for specific environments is a way to enforce the security.\n\n- **clientId**:\n  - _Type_: `string` | `undefined`\n  - _Default_: `undefined`\n  - _Description_: clientId and clientSecret allow the intlayer packages to authenticate with the backend using oAuth2 authentication. An access token is used to authenticate the user related to the project. To get an access token, go to https://app.intlayer.org/project and create an account.\n  - _Example_: `true`\n  - _Note_: Important: The clientId and clientSecret should be kept secret and not shared publicly. Please ensure to keep them in a secure location, such as environment variables.\n\n- **clientSecret**:\n  - _Type_: `string` | `undefined`\n  - _Default_: `undefined`\n  - _Description_: clientId and clientSecret allow the intlayer packages to authenticate with the backend using oAuth2 authentication. An access token is used to authenticate the user related to the project. To get an access token, go to https://app.intlayer.org/project and create an account.\n  - _Example_: `true`\n  - _Note_: Important: The clientId and clientSecret should be kept secret and not shared publicly. Please ensure to keep them in a secure location, such as environment variables.\n\n- **dictionaryPriorityStrategy**:\n  - _Type_: `string`\n  - _Default_: `'local_first'`\n  - _Description_: The strategy to prioritize dictionaries in the case of both local and distant dictionaries being present. If set to `'distant_first'`, the application will prioritize distant dictionaries over local dictionaries. If set to `'local_first'`, the application will prioritize local dictionaries over distant dictionaries.\n  - _Example_: `'distant_first'`\n\n- **liveSync**:\n  - _Type_: `boolean`\n  - _Default_: `false`\n  - _Description_: Indicates if the application server should hot reload the content of the application when a change is detected on the CMS / Visual Editor / Backend.\n  - _Example_: `true`\n  - _Note_: For example, when a new dictionary is added or updated, the application will update the content to display in the page.\n  - _Note_: Live sync need to externalize the content of the application to another server. That means that it can slightly impact the performance of the application. To limit this, we recommand to host the application and the live sync server on the same machine. Also, the combination of live sync and `optimize` can apply a consequent number of requests to the live sync server. Depending of your infrastructure, we recommand to test both options and their combination.\n\n- **liveSyncPort**:\n  - _Type_: `number`\n  - _Default_: `4000`\n  - _Description_: The port of the live sync server.\n  - _Example_: `4000`\n  - _Note_: The port of the live sync server.\n\n- **liveSyncURL**:\n  - _Type_: `string`\n  - _Default_: `'http://localhost:{liveSyncPort}'`\n  - _Description_: The URL of the live sync server.\n  - _Example_: `'https://example.com'`\n  - _Note_: Point to localhost by default but can be changed to any URL in the case of a remote live sync server.\n\n### Routing Configuration\n\nSettings that control routing behavior, including URL structure, locale storage, and middleware handling.\n\n#### Properties\n\n- **mode**:\n  - _Type_: `'prefix-no-default' | 'prefix-all' | 'no-prefix' | 'search-params'`\n  - _Default_: `'prefix-no-default'`\n  - _Description_: URL routing mode for locale handling.\n  - _Examples_:\n    - `'prefix-no-default'`: `/dashboard` (en) or `/fr/dashboard` (fr)\n    - `'prefix-all'`: `/en/dashboard` (en) or `/fr/dashboard` (fr)\n    - `'no-prefix'`: `/dashboard` (locale handled via other means)\n    - `'search-params'`: `/dashboard?locale=fr`\n  - _Note_: This setting does not impact cookie or locale storage management.\n\n- **storage**:\n  - _Type_: `false | 'cookie' | 'localStorage' | 'sessionStorage' | 'header' | CookiesAttributes | StorageAttributes | Array`\n  - _Default_: `'localStorage'`\n  - _Description_: Configuration for storing the locale in the client.\n\n  - **cookie**:\n    - _Description_: Stores data in cookies, small pieces of data stored on the client's browser, accessible on both client and server side.\n    - _Note_: For GDPR compliant storage, ensure proper user consent before usage.\n    - _Note_: Cookies parameters are customizable if set as CookiesAttributes (`{ type: 'cookie', name: 'custom-locale', secure: true, httpOnly: false }`).\n\n  - **localStorage**:\n    - _Description_: Stores data in the browser without expiration dates, allowing for data persistence across sessions, accessible only on the client side.\n    - _Note_: Ideal for storing long-term data but mindful of the privacy and security implications due to non-expiring nature unless explicitly cleared.\n    - _Note_: Locale storage is only accessible on the client side, the intlayer proxy will not be able to access it.\n    - _Note_: Locale storage parameters are customizable if set as StorageAttributes (`{ type: 'localStorage', name: 'custom-locale' }`).\n\n  - **sessionStorage**:\n    - _Description_: Stores data for the duration of a page session, meaning it gets cleared once the tab or window is closed, accessible only on the client side.\n    - _Note_: Suitable for temporary data storage for each session.\n    - _Note_: Locale storage is only accessible on the client side, the intlayer proxy will not be able to access it.\n    - _Note_: Locale storage parameters are customizable if set as StorageAttributes (`{ type: 'sessionStorage', name: 'custom-locale' }`).\n\n  - **header**:\n    - _Description_: Utilizes HTTP headers to store or transmit locale data, suitable for server-side language determination.\n    - _Note_: Useful in API calls for maintaining consistent language settings across requests.\n    - _Note_: Header is only accessible on the server side, the client side will not be able to access it.\n    - _Note_: Header name is customizable if set as StorageAttributes (`{ type: 'header', name: 'custom-locale' }`).\n\n- **basePath**:\n  - _Type_: `string`\n  - _Default_: `''`\n  - _Description_: The base path for the application URLs.\n  - _Example_: `'/my-app'`\n  - _Note_:\n    - If the application is hosted at `https://example.com/my-app`\n    - The base path is `'/my-app'`\n    - The URL will be `https://example.com/my-app/en`\n    - If the base path is not set, the URL will be `https://example.com/en`\n\n- **rewrite**:\n  - _Type_: `Record<string, StrictModeLocaleMap<string>>`\n  - _Default_: `undefined`\n  - _Description_: Custom URL rewriting rules that override the default routing mode for specific paths. Allows you to define locale-specific paths that differ from the standard routing behavior. Supports dynamic route parameters using `[param]` syntax.\n  - _Example_:\n    ```typescript\n    routing: {\n      mode: \"prefix-no-default\", // Fallback strategy\n      rewrite: {\n        \"/about\": {\n          en: \"/about\",\n          fr: \"/a-propos\",\n        },\n        \"/product/[slug]\": {\n          en: \"/product/[slug]\",\n          fr: \"/produit/[slug]\",\n        },\n        \"/blog/[category]/[id]\": {\n          en: \"/blog/[category]/[id]\",\n          fr: \"/journal/[category]/[id]\",\n        },\n      },\n    }\n    ```\n  - _Note_: The rewrite rules take precedence over the default `mode` behavior. If a path matches a rewrite rule, the localized path from the rewrite configuration will be used instead of the standard locale prefixing.\n  - _Note_: Dynamic route parameters are supported using bracket notation (e.g., `[slug]`, `[id]`). The parameter values are automatically extracted from the URL and interpolated into the rewritten path.\n  - _Note_: Works with both Next.js and Vite applications. The middleware/proxy will automatically rewrite incoming requests to match the internal route structure.\n  - _Note_: When generating URLs with `getLocalizedUrl()`, the rewrite rules are automatically applied if they match the provided path.\n\n#### Cookie Attributes\n\nWhen using cookie storage, you can configure additional cookie attributes:\n\n- **name**: Cookie name (default: `'INTLAYER_LOCALE'`)\n- **domain**: Cookie domain (default: undefined)\n- **path**: Cookie path (default: undefined)\n- **secure**: Require HTTPS (default: undefined)\n- **httpOnly**: HTTP-only flag (default: undefined)\n- **sameSite**: SameSite policy (`'strict' | 'lax' | 'none'`)\n- **expires**: Expiration date or days (default: undefined)\n\n#### Locale Storage Attributes\n\nWhen using localStorage or sessionStorage:\n\n- **type**: Storage type (`'localStorage' | 'sessionStorage'`)\n- **name**: Storage key name (default: `'INTLAYER_LOCALE'`)\n\n#### Configuration Examples\n\nHere are some common configuration examples for the new v7 routing structure:\n\n**Basic Configuration (Default)**:\n\n```typescript\n// intlayer.config.ts\nexport default defineConfig({\n  internationalization: {\n    locales: [\"en\", \"fr\", \"es\"],\n    defaultLocale: \"en\",\n  },\n  routing: {\n    mode: \"prefix-no-default\",\n    storage: \"localStorage\",\n    headerName: \"x-intlayer-locale\",\n    basePath: \"\",\n  },\n});\n```\n\n**GDPR Compliant Configuration**:\n\n```typescript\n// intlayer.config.ts\nexport default defineConfig({\n  internationalization: {\n    locales: [\"en\", \"fr\", \"es\"],\n    defaultLocale: \"en\",\n  },\n  routing: {\n    mode: \"prefix-no-default\",\n    storage: [\n      {\n        type: \"localStorage\",\n        name: \"user-locale\",\n      },\n      {\n        type: \"cookie\",\n        name: \"user-locale\",\n        secure: true,\n        sameSite: \"strict\",\n        httpOnly: false,\n      },\n    ],\n    headerName: \"x-intlayer-locale\",\n    basePath: \"\",\n  },\n});\n```\n\n**Search Parameters Mode**:\n\n```typescript\n// intlayer.config.ts\nexport default defineConfig({\n  internationalization: {\n    locales: [\"en\", \"fr\", \"es\"],\n    defaultLocale: \"en\",\n  },\n  routing: {\n    mode: \"search-params\",\n    storage: \"localStorage\",\n    headerName: \"x-intlayer-locale\",\n    basePath: \"\",\n  },\n});\n```\n\n**No Prefix Mode with Custom Storage**:\n\n```typescript\n// intlayer.config.ts\nexport default defineConfig({\n  internationalization: {\n    locales: [\"en\", \"fr\", \"es\"],\n    defaultLocale: \"en\",\n  },\n  routing: {\n    mode: \"no-prefix\",\n    storage: {\n      type: \"sessionStorage\",\n      name: \"app-locale\",\n    },\n    headerName: \"x-custom-locale\",\n    basePath: \"/my-app\",\n  },\n});\n```\n\n**Custom URL Rewriting with Dynamic Routes**:\n\n```typescript\n// intlayer.config.ts\nexport default defineConfig({\n  internationalization: {\n    locales: [\"en\", \"fr\"],\n    defaultLocale: \"en\",\n  },\n  routing: {\n    mode: \"prefix-no-default\", // Fallback for non-rewritten paths\n    storage: \"cookie\",\n    rewrite: {\n      \"/about\": {\n        en: \"/about\",\n        fr: \"/a-propos\",\n      },\n      \"/product/[slug]\": {\n        en: \"/product/[slug]\",\n        fr: \"/produit/[slug]\",\n      },\n      \"/blog/[category]/[id]\": {\n        en: \"/blog/[category]/[id]\",\n        fr: \"/journal/[category]/[id]\",\n      },\n    },\n  },\n});\n```\n\n---\n\n### Content Configuration\n\nSettings related to content handling within the application, including directory names, file extensions, and derived configurations.\n\n#### Properties\n\n- **watch**:\n  - _Type_: `boolean`\n  - _Default_: `process.env.NODE_ENV === 'development'`\n  - _Description_: Indicates if Intlayer should watch for changes in the content declaration files in the app to rebuild the related dictionaries.\n\n- **fileExtensions**:\n  - _Type_: `string[]`\n  - _Default_: `['.content.ts', '.content.js', '.content.cjs', '.content.mjs', '.content.json', '.content.tsx', '.content.jsx']`\n  - _Description_: File extensions to look for when building dictionaries.\n  - _Example_: `['.data.ts', '.data.js', '.data.json']`\n  - _Note_: Customizing file extensions can help avoid conflicts.\n\n- **baseDir**:\n  - _Type_: `string`\n  - _Default_: `process.cwd()`\n  - _Description_: The base directory for the project.\n  - _Example_: `'/path/to/project'`\n  - _Note_: This is used to resolve all Intlayer-related directories.\n\n- **contentDir**:\n  - _Type_: `string[]`\n  - _Default_: `['.']`\n  - _Example_: `['src', '../../ui-library', require.resolve(\"@my-package/content\")]`\n  - _Description_: The directory path where content definition files (`.content.*`) are stored.\n  - _Note_: This is used to watch for content files to rebuild dictionaries.\n\n- **codeDir**:\n  - _Type_: `string[]`\n  - _Default_: `['.']`\n  - _Example_: `['src', '../../ui-library']`\n  - _Description_: The directory path where the code is stored, relative to the base directory.\n  - _Note_: This is used to watch for code files to transform (prune, optimize). Keeping this separate from `contentDir` can improve build performance by avoiding unnecessary scans of content files.\n\n- **excludedPath**:\n  - _Type_: `string[]`\n  - _Default_: `['**/node_modules/**', '**/dist/**', '**/build/**', '**/.intlayer/**', '**/.next/**', '**/.nuxt/**', '**/.expo/**', '**/.vercel/**', '**/.turbo/**', '**/.tanstack/**']`\n  - _Description_: Directories excluded from content search.\n  - _Note_: This setting is not yet used, but planned for future implementation.\n\n- **formatCommand**:\n  - _Type_: `string`\n  - _Default_: `undefined`\n  - _Description_: The command to format the content. When intlayer write your .content files locally, this command will be used to format the content.\n  - _Example_: `'npx prettier --write \"{{file}}\" --log-level silent'` Using Prettier\n  - _Example_: `'npx biome format \"{{file}}\" --write --log-level none'` Using Biome\n  - _Example_: `'npx eslint --fix \"{{file}}\"  --quiet'` Using ESLint\n  - _Note_: Intlayer will replace the {{file}} with the path of the file to format.\n  - _Note_: If not set, Intlayer will try to detect the format command automatically. By trying to resolve the following commands: prettier, biome, eslint.\n\n---\n\n### System Configuration\n\nSettings related to internal paths and output results of Intlayer. These settings are typically internal and should not need to be modified by the user.\n\n#### Properties\n\n- **dictionariesDir**:\n  - _Type_: `string`\n  - _Default_: `'.intlayer/dictionary'`\n  - _Description_: The directory path for storing localization dictionaries.\n\n- **moduleAugmentationDir**:\n  - _Type_: `string`\n  - _Default_: `'.intlayer/types'`\n  - _Description_: Directory for module augmentation, allowing better IDE suggestions and type checking.\n  - _Example_: `'intlayer-types'`\n  - _Note_: Be sure to include this in `tsconfig.json`.\n\n- **unmergedDictionariesDir**:\n  - _Type_: `string`\n  - _Default_: `'.intlayer/unmerged_dictionary'`\n  - _Description_: The directory for storing unmerged dictionaries.\n\n- **typesDir**:\n  - _Type_: `string`\n  - _Default_: `'.intlayer/types'`\n  - _Description_: The directory for storing dictionary types.\n\n- **mainDir**:\n  - _Type_: `string`\n  - _Default_: `'.intlayer/main'`\n  - _Description_: The directory where main application files are stored.\n\n- **configDir**:\n  - _Type_: `string`\n  - _Default_: `'.intlayer/config'`\n  - _Description_: The directory where the configuration files are stored.\n\n- **cacheDir**:\n  - _Type_: `string`\n  - _Default_: `'.intlayer/cache'`\n  - _Description_: The directory where the cache files are stored.\n\n- **outputFilesPatternWithPath**:\n  - _Type_: `string`\n  - _Default_: `'{{dictionariesDir}}/**/*.json'`\n  - _Description_: Pattern for output files including the relative path.\n\n### Dictionary Configuration\n\nSettings that control dictionary operations, including auto-fill behavior and content generation.\n\nThis dictionary configuration serves two main purposes:\n\n1. **Default Values**: Define default values when creating content declaration files\n2. **Fallback Behavior**: Provide fallback values when specific fields are not defined, allowing you to define dictionary operation behavior globally\n\nFor more information about content declaration files and how configuration values are applied, see the [Content File Documentation](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/dictionary/content_file.md).\n\n#### Properties\n\n- **fill**\n- **description**\n- **locale**\n- **contentAutoTransformation**:\n- **location**\n- **importMode**:\n  - _Type_: `'static' | 'dynamic' | 'fetch'`\n  - _Default_: `'static'`\n  - _Description_: Controls how dictionaries are imported.\n  - _Example_: `'dynamic'`\n  - _Note_: Available modes:\n    - \"static\": Dictionaries are imported statically. Replaces `useIntlayer` with `useDictionary`.\n    - \"dynamic\": Dictionaries are imported dynamically using Suspense. Replaces `useIntlayer` with `useDictionaryDynamic`.\n    - \"fetch\": Dictionaries are fetched dynamically using the live sync API. Replaces `useIntlayer` with `useDictionaryDynamic`.\n  - _Note_: Dynamic imports rely on Suspense and may slightly impact rendering performance.\n  - _Note_: If disabled all locales will be loaded at once, even if they are not used.\n  - _Note_: This option relies on the `@intlayer/babel` and `@intlayer/swc` plugins.\n  - _Note_: Ensure all keys are declared statically in the `useIntlayer` calls. e.g. `useIntlayer('navbar')`.\n  - _Note_: This option will be ignored if `optimize` is disabled.\n  - _Note_: If set to \"fetch\", only the dictionaries that are including remote content, and set as \"fetch\" flags will be transformed as fetch mode. Others will be imported dynamically as \"dynamic\" mode to optimize the number of fetch queries, and load performance.\n  - _Note_: Fetch mode will use the live sync API to fetch the dictionaries. If the API call fails, the dictionaries will be imported dynamically as \"dynamic\" mode.\n  - _Note_: This option will not impact the `getIntlayer`, `getDictionary`, `useDictionary`, `useDictionaryAsync` and `useDictionaryDynamic` functions.\n- **priority**\n- **live**\n- **schema**\n- **title**\n- **tags**\n- **version**\n\n---\n\n### Logger Configuration\n\nSettings that control the logger, including the prefix to use.\n\n#### Properties\n\n- **mode**:\n  - _Type_: `string`\n  - _Default_: `default`\n  - _Description_: Indicates the mode of the logger.\n  - _Options_: `default`, `verbose`, `disabled`\n  - _Example_: `default`\n  - _Note_: The mode of the logger. Verbose mode will log more information, but can be used for debugging purposes. Disabled mode will disable the logger.\n\n- **prefix**:\n  - _Type_: `string`\n  - _Default_: `'[intlayer] '`\n  - _Description_: The prefix of the logger.\n  - _Example_: `'[my custom prefix] '`\n  - _Note_: The prefix of the logger.\n\n### AI Configuration\n\nSettings that control the AI features of Intlayer, including the provider, model, and API key.\n\nThis configuration is optional if you're registered on the [Intlayer Dashboard](https://app.intlayer.org/project) using an access key. Intlayer will automatically manage the most efficient and cost-effective AI solution for your needs. Using the default options ensures better long-term maintainability as Intlayer continuously updates to use the most relevant models.\n\nIf you prefer to use your own API key or specific model, you can define your custom AI configuration.\nThis AI configuration will be used globally across your Intlayer environment. CLI commands will use these settings as defaults for the commands (e.g. `fill`), as well as the SDK, Visual Editor, and CMS. You can override these default values for specific use cases using command parameters.\n\nIntlayer supports multiple AI providers for enhanced flexibility and choice. Currently supported providers are:\n\n- **OpenAI** (default)\n- **Anthropic Claude**\n- **Mistral AI**\n- **DeepSeek**\n- **Google Gemini**\n- **Meta Llama**\n- **Ollama**\n- **ollama**\n\n#### Properties\n\n- **provider**:\n  - _Type_: `string`\n  - _Default_: `'openai'`\n  - _Description_: The provider to use for the AI features of Intlayer.\n  - _Options_: `'openai'`, `'anthropic'`, `'mistral'`, `'deepseek'`, `'gemini'`, `'ollama'`\n  - _Example_: `'anthropic'`\n  - _Note_: Different providers may require different API keys and have different pricing models.\n\n- **model**:\n  - _Type_: `string`\n  - _Default_: None\n  - _Description_: The model to use for the AI features of Intlayer.\n  - _Example_: `'gpt-4o-2024-11-20'`\n  - _Note_: The specific model to use varies by provider.\n\n- **temperature**:\n  - _Type_: `number`\n  - _Default_: None\n  - _Description_: The temperature controls the randomness of the AI's responses.\n  - _Example_: `0.1`\n  - _Note_: A higher temperature will make the AI more creative and less predictable.\n\n- **apiKey**:\n  - _Type_: `string`\n  - _Default_: None\n  - _Description_: Your API key for the selected provider.\n  - _Example_: `process.env.OPENAI_API_KEY`\n  - _Note_: Important: API keys should be kept secret and not shared publicly. Please ensure to keep them in a secure location, such as environment variables.\n\n- **applicationContext**:\n  - _Type_: `string`\n  - _Default_: None\n  - _Description_: Provides additional context about your application to the AI model, helping it generate more accurate and contextually appropriate translations. This can include information about your app's domain, target audience, tone, or specific terminology.\n  - _Note_: You can use it to add more rules to the AI model (e.g. \"You should not transform urls\").\n  - _Example_: `'My application context'`\n\n- **baseURL**:\n  - _Type_: `string`\n  - _Default_: None\n  - _Description_: The base URL for the AI API.\n  - _Example_: `'https://api.openai.com/v1'`\n  - _Example_: `'http://localhost:5000'`\n  - _Note_: Can be used to point to a local, or custom AI API endpoint.\n\n> If you provide additional parameters, Intlayer will pass them to the AI model as context. It can be used to customize the reasoning effort, text verbosity, etc\n\n### Build Configuration\n\nSettings that control how Intlayer optimizes and builds your application's internationalization.\n\nBuild options apply to the `@intlayer/babel` and `@intlayer/swc` plugins.\n\n> In development mode, Intlayer uses static imports for dictionaries to simplify the development experience.\n\n> When optimized, Intlayer will replace dictionary calls to optimize chunking, so the final bundle only imports dictionaries that are actually used.\n\n#### Properties\n\n- **mode**:\n  - _Type_: `'auto' | 'manual'`\n  - _Default_: `'auto'`\n  - _Description_: Controls the mode of the build.\n  - _Example_: `'manual'`\n  - _Note_: If 'auto', the build will be enabled automatically when the application is built.\n  - _Note_: If 'manual', the build will be set only when the build command is executed.\n  - _Note_: Can be used to disable dictionaries build, for instance when execution on Node.js environment should be avoided.\n\n- **optimize**:\n  - _Type_: `boolean`\n  - _Default_: `undefined`\n  - _Description_: Controls whether the build should be optimized.\n  - _Example_: `process.env.NODE_ENV === 'production'`\n  - _Note_: By default, the build optimization is not fixed. If not set, Intlayer will trigger the build optimization on the build of your application (vite / nextjs / etc). Setting it to `true` will force the build optimization, including during dev mode. Setting it to `false` will disable the build optimization.\n  - _Note_: When enabled, Intlayer will replace all calls of dictionaries to optimize chunking. That way the final bundle will import only the dictionaries that are used. All imports will stay as static import to avoid async processing when loading the dictionaries.\n  - _Note_: Intlayer will replace all calls of `useIntlayer` with the defined mode by the `importMode` option and `getIntlayer` with `getDictionary`.\n  - _Note_: This option relies on the `@intlayer/babel` and `@intlayer/swc` plugins.\n  - _Note_: Ensure all keys are declared statically in the `useIntlayer` calls. e.g. `useIntlayer('navbar')`.\n\n- **importMode**:\n  - _Type_: `'static' | 'dynamic' | 'fetch'`\n  - _Default_: `'static'`\n  - _Description_: Controls how dictionaries are imported.\n  - _Example_: `'dynamic'`\n  - _Note_: Available modes:\n    - \"static\": Dictionaries are imported statically. Replaces `useIntlayer` with `useDictionary`.\n    - \"dynamic\": Dictionaries are imported dynamically using Suspense. Replaces `useIntlayer` with `useDictionaryDynamic`.\n    - \"fetch\": Dictionaries are fetched dynamically using the live sync API. Replaces `useIntlayer` with `useDictionaryDynamic`.\n  - _Note_: Dynamic imports rely on Suspense and may slightly impact rendering performance.\n  - _Note_: If disabled all locales will be loaded at once, even if they are not used.\n  - _Note_: This option relies on the `@intlayer/babel` and `@intlayer/swc` plugins.\n  - _Note_: Ensure all keys are declared statically in the `useIntlayer` calls. e.g. `useIntlayer('navbar')`.\n  - _Note_: This option will be ignored if `optimize` is disabled.\n  - _Note_: If set to \"fetch\", only the dictionaries that are including remote content, and set as \"fetch\" flags will be transformed as fetch mode. Others will be imported dynamically as \"dynamic\" mode to optimize the number of fetch queries, and load performance.\n  - _Note_: Fetch mode will use the live sync API to fetch the dictionaries. If the API call fails, the dictionaries will be imported dynamically as \"dynamic\" mode.\n  - _Note_: This option will not impact the `getIntlayer`, `getDictionary`, `useDictionary`, `useDictionaryAsync` and `useDictionaryDynamic` functions.\n  - _Note_: **Deprecated**: Use `dictionary.importMode` instead.\n- **outputFormat**:\n  - _Type_: `'esm' | 'cjs'`\n  - _Default_: `'esm'`\n  - _Description_: Controls the output format of the dictionaries.\n  - _Example_: `'cjs'`\n  - _Note_: The output format of the dictionaries.\n\n- **traversePattern**:\n  - _Type_: `string[]`\n  - _Default_: `['**\\/*.{js,ts,mjs,cjs,jsx,tsx}', '!**\\/node_modules/**']`\n  - _Description_: Patterns that define which files should be traversed during optimization.\n    - _Example_: `['src/**\\/*.{ts,tsx}', '../ui-library/**\\/*.{ts,tsx}', '!**/node_modules/**']`\n  - _Note_: Use this to limit optimization to relevant code files and improve build performance.\n  - _Note_: This option will be ignored if `optimize` is disabled.\n  - _Note_: Use glob pattern.\n",
  "createdAt": "2024-08-13",
  "updatedAt": "2026-01-24",
  "title": "Configuration",
  "description": "Learn how to configure Intlayer for your application. Understand the various settings and options available to customize Intlayer to your needs.",
  "keywords": [
    "Configuration",
    "Settings",
    "Customization",
    "Intlayer",
    "Options"
  ],
  "slugs": [
    "doc",
    "concept",
    "configuration"
  ],
  "history": [
    {
      "version": "8.0.0",
      "date": "2026-01-24",
      "changes": "Rename `live` import mode to `fetch` to better describe the underlying mechanism."
    },
    {
      "version": "8.0.0",
      "date": "2026-01-22",
      "changes": "Move `importMode` build configuration to `dictionary` configuration."
    },
    {
      "version": "8.0.0",
      "date": "2026-01-22",
      "changes": "Add `rewrite` option to the routing configuration"
    },
    {
      "version": "8.0.0",
      "date": "2026-01-18",
      "changes": "Separate system configuration from content configuration. Move internal paths to `system` property. Add `codeDir` to separate content files from code transformation."
    },
    {
      "version": "8.0.0",
      "date": "2026-01-18",
      "changes": "Add `location` and `schema` dictionary options"
    },
    {
      "version": "7.5.1",
      "date": "2026-01-10",
      "changes": "Add support for JSON5 and JSONC file formats"
    },
    {
      "version": "7.5.0",
      "date": "2025-12-17",
      "changes": "Add `buildMode` option"
    },
    {
      "version": "7.0.0",
      "date": "2025-10-25",
      "changes": "Add `dictionary` configuration"
    },
    {
      "version": "7.0.0",
      "date": "2025-10-21",
      "changes": "Replace `middleware` by `routing` configuration"
    },
    {
      "version": "7.0.0",
      "date": "2025-10-12",
      "changes": "Add `formatCommand` option"
    },
    {
      "version": "6.2.0",
      "date": "2025-10-12",
      "changes": "Update `excludedPath` option"
    },
    {
      "version": "6.0.2",
      "date": "2025-09-23",
      "changes": "Add `outputFormat` option"
    },
    {
      "version": "6.0.0",
      "date": "2025-09-21",
      "changes": "Remove `dictionaryOutput` field and `i18nextResourcesDir` field"
    },
    {
      "version": "6.0.0",
      "date": "2025-09-16",
      "changes": "Add `live` import mode"
    },
    {
      "version": "6.0.0",
      "date": "2025-09-04",
      "changes": "Replace `hotReload` field by `liveSync` and add `liveSyncPort` and `liveSyncURL` fields"
    },
    {
      "version": "5.6.1",
      "date": "2025-07-25",
      "changes": "Replace `activateDynamicImport` with `importMode` option"
    },
    {
      "version": "5.6.0",
      "date": "2025-07-13",
      "changes": "Change default contentDir from `['src']` to `['.']`"
    },
    {
      "version": "5.5.11",
      "date": "2025-06-29",
      "changes": "Add `docs` commands"
    }
  ],
  "docKey": "./docs/en/configuration.md",
  "githubUrl": "https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/configuration.md",
  "relativeUrl": "/doc/concept/configuration",
  "url": "https://intlayer.org/doc/concept/configuration"
}