{
  "id": "./docs/en/CI_CD.md",
  "content": "---\ncreatedAt: 2025-05-20\nupdatedAt: 2025-08-13\ntitle: CI/CD Integration\ndescription: Learn how to integrate Intlayer into your CI/CD pipeline for automated content management and deployment.\nkeywords:\n  - CI/CD\n  - Continuous Integration\n  - Continuous Deployment\n  - Automation\n  - Internationalization\n  - Documentation\n  - Intlayer\nslugs:\n  - doc\n  - concept\n  - ci-cd\nhistory:\n  - version: 5.5.10\n    date: 2025-06-29\n    changes: Init history\n---\n\n# Auto-Generate Translations in a CI/CD Pipeline\n\nIntlayer allows the automatic generation of translations for your content declaration files. There are multiple ways to achieve this depending on your workflow.\n\n## Table of Contents\n\n<TOC/>\n\n## Using the CMS\n\nWith Intlayer, you can adopt a workflow where only a single locale is declared locally, while all translations are managed remotely through the CMS. This allows content and translations to be completely detached from the codebase, offering more flexibility for content editors and enabling Live Sync (no need to rebuild the application to apply changes).\n\n### Example Configuration\n\n```ts fileName=\"intlayer.config.ts\"\nimport { Locales, type IntlayerConfig } from \"intlayer\";\n\nconst config: IntlayerConfig = {\n  internationalization: {\n    locales: [Locales.ENGLISH, Locales.SPANISH, Locales.FRENCH],\n    requiredLocales: [Locales.ENGLISH], // Optional locales will be managed remotely\n    defaultLocale: Locales.ENGLISH,\n  },\n  editor: {\n    // CMS credentials if you use the CMS\n    clientId: process.env.INTLAYER_CLIENT_ID,\n    clientSecret: process.env.INTLAYER_CLIENT_SECRET,\n    liveSync: true,\n  },\n  ai: {\n    applicationContext: \"This is a test application\", // Helps ensure consistent translation generation\n  },\n};\n\nexport default config;\n```\n\nTo learn more about the CMS, refer to the [official documentation](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/intlayer_CMS.md).\n\n## Using Husky\n\nYou can integrate translation generation into your local Git workflow using [Husky](https://typicode.github.io/husky/).\n\n### Example Configuration\n\n```ts fileName=\"intlayer.config.ts\"\nimport { Locales, type IntlayerConfig } from \"intlayer\";\n\nconst config: IntlayerConfig = {\n  internationalization: {\n    locales: [Locales.ENGLISH, Locales.SPANISH, Locales.FRENCH],\n    requiredLocales: [Locales.ENGLISH], // Optional locales are handled remotely\n    defaultLocale: Locales.ENGLISH,\n  },\n  editor: {\n    clientId: process.env.INTLAYER_CLIENT_ID,\n    clientSecret: process.env.INTLAYER_CLIENT_SECRET,\n  },\n  ai: {\n    provider: \"openai\",\n    apiKey: process.env.OPENAI_API_KEY, // Use your own API key\n\n    applicationContext: \"This is a test application\", // Helps ensure consistent translation generation\n  },\n};\n\nexport default config;\n```\n\n```bash fileName=\".husky/pre-push\"\nnpx intlayer build                          # To ensure dictionaries are up to date\nnpx intlayer fill --unpushed --mode fill    # Only fill missing content, does not update existing ones\n```\n\n> For more information about Intlayer CLI commands and their usage, refer to the [CLI documentation](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/cli/index.md).\n\n> If you have multiple apps in your repo using separate intlayer instances, you can use the `--base-dir` argument like this:\n\n```bash fileName=\".husky/pre-push\"\n# App 1\nnpx intlayer build --base-dir ./app1\nnpx intlayer fill --base-dir ./app1 --unpushed --mode fill\n\n# App 2\nnpx intlayer build --base-dir ./app2\nnpx intlayer fill --base-dir ./app2 --unpushed --mode fill\n```\n\n## Using GitHub Actions\n\nIntlayer provides a CLI command to autofill and review dictionary content. This can be integrated into your CI/CD workflow using GitHub Actions.\n\n```yaml fileName=\".github/workflows/intlayer-translate.yml\"\nname: Intlayer Auto-Fill\n# Trigger conditions for this workflow\non:\n  pull_request:\n    branches:\n      - \"main\"\n\npermissions:\n  contents: write\n  pull-requests: write\n\nconcurrency:\n  group: \"autofill-${{ github.ref }}\"\n  cancel-in-progress: true\n\njobs:\n  autofill:\n    runs-on: ubuntu-latest\n    env:\n      # OpenAI\n      AI_MODEL: openai\n      AI_PROVIDER: gpt-5-mini\n      AI_API_KEY: ${{ secrets.AI_API_KEY }}\n\n    steps:\n      # Step 1: Get the latest code from the repository\n      - name: â¬‡ï¸ Checkout repository\n        uses: actions/checkout@v4\n        with:\n          persist-credentials: true # Keep credentials for creating PRs\n          fetch-depth: 0 # Get full git history for diff analysis\n\n      # Step 2: Set up Node.js environment\n      - name: ðŸŸ¢ Set up Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: 20 # Use Node.js 20 LTS for stability\n\n      # Step 3: Install project dependencies\n      - name: ðŸ“¦ Install dependencies\n        run: npm install\n\n      # Step 4: Install Intlayer CLI globally for translation management\n      - name: ðŸ“¦ Install Intlayer\n        run: npm install -g intlayer-cli\n\n      # Step 5: Build the Intlayer project to generate translation files\n      - name: âš™ï¸ Build Intlayer project\n        run: npx intlayer build\n\n      # Step 6: Use AI to automatically fill missing translations\n      - name: ðŸ¤– Auto-fill missing translations\n        run: npx intlayer fill --git-diff --mode fill --provider $AI_PROVIDER --model $AI_MODEL --api-key $AI_API_KEY\n\n      # Step 7: Check if there are changes and commit them\n      - name: ï¿½ Check for changes\n        id: check-changes\n        run: |\n          if [ -n \"$(git status --porcelain)\" ]; then\n            echo \"has-changes=true\" >> $GITHUB_OUTPUT\n          else\n            echo \"has-changes=false\" >> $GITHUB_OUTPUT\n          fi\n\n      # Step 8: Commit and push changes if any exist\n      - name: ðŸ“¤ Commit and push changes\n        if: steps.check-changes.outputs.has-changes == 'true'\n        run: |\n          git config --local user.email \"action@github.com\"\n          git config --local user.name \"GitHub Action\"\n          git add .\n          git commit -m \"chore: auto-fill missing translations [skip ci]\"\n          git push origin HEAD:${{ github.head_ref }}\n```\n\nTo set up the environment variables, go to GitHub â†’ Settings â†’ Secrets and variables â†’ Actions and add the secret .\n\n> Same as for Husky, in the case of a monorepo, you can use the `--base-dir` argument to sequentially treat each app.\n\n> By default, the `--git-diff` argument filters dictionaries that include changes from base (default `origin/main`) to current branch (default: `HEAD`).\n\n> For more information about Intlayer CLI commands and their usage, refer to the [CLI documentation](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/cli/index.md).\n",
  "createdAt": "2025-05-20",
  "updatedAt": "2025-08-13",
  "title": "CI/CD Integration",
  "description": "Learn how to integrate Intlayer into your CI/CD pipeline for automated content management and deployment.",
  "keywords": [
    "CI/CD",
    "Continuous Integration",
    "Continuous Deployment",
    "Automation",
    "Internationalization",
    "Documentation",
    "Intlayer"
  ],
  "slugs": [
    "doc",
    "concept",
    "ci-cd"
  ],
  "history": [
    {
      "version": "5.5.10",
      "date": "2025-06-29",
      "changes": "Init history"
    }
  ],
  "docKey": "./docs/en/CI_CD.md",
  "githubUrl": "https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/CI_CD.md",
  "relativeUrl": "/doc/concept/ci-cd",
  "url": "https://intlayer.org/doc/concept/ci-cd"
}