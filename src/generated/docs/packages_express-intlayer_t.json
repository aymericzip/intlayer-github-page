{
  "id": "./docs/en/packages/express-intlayer/t.md",
  "content": "---\ncreatedAt: 2024-12-02\nupdatedAt: 2025-06-29\ntitle: t Function Documentation | express-intlayer\ndescription: See how to use the t function for express-intlayer package\nkeywords:\n  - t\n  - translation\n  - Intlayer\n  - Internationalization\n  - Documentation\n  - Express\n  - JavaScript\n  - React\nslugs:\n  - doc\n  - packages\n  - express-intlayer\n  - t\nhistory:\n  - version: 5.5.10\n    date: 2025-06-29\n    changes: Init history\n---\n\n# Documentation: `t` Function in `express-intlayer`\n\nThe `t` function in the `express-intlayer` package is the core utility for providing localized responses in your Express application. It simplifies internationalization (i18n) by dynamically selecting content based on the user's preferred language.\n\n---\n\n## Overview\n\nThe `t` function is used to define and retrieve translations for a given set of languages. It automatically determines the appropriate language to return based on the client's request settings, such as the `Accept-Language` header. If the preferred language is unavailable, it gracefully falls back to the default locale specified in your configuration.\n\n---\n\n## Key Features\n\n- **Dynamic Localization**: Automatically selects the most appropriate translation for the client.\n- **Fallback to Default Locale**: Falls back to a default locale if the client's preferred language isn't available, ensuring continuity in user experience.\n- **Lightweight and Fast**: Designed for high-performance applications, ensuring minimal overhead.\n- **Strict Mode Support**: Enforce strict adherence to declared locales for reliable behavior.\n\n---\n\n## Function Signature\n\n```typescript\nt(translations: Record<string, string>): string;\n```\n\n### Parameters\n\n- `translations`: An object where the keys are locale codes (e.g., `en`, `fr`, `es-MX`) and the values are the corresponding translated strings.\n\n### Returns\n\n- A string representing the content in the client's preferred language.\n\n---\n\n## Loading the Internationalization Request Handler\n\nTo ensure that the internationalization functionality provided by `express-intlayer` works correctly, you **must** load the internationalization middleware at the beginning of your Express application. This enables the `t` function and ensures proper handling of locale detection and translation.\n\nPlace the `app.use(intlayer())` middleware **before any routes** in your application to ensure that all routes benefit from internationalization:\n\n```typescript {7} fileName=\"src/index.ts\" codeFormat=\"typescript\"\nimport express, { type Express } from \"express\";\nimport { intlayer } from \"express-intlayer\";\n\nconst app: Express = express();\n\n// Load internationalization request handler\napp.use(intlayer());\n\n// Define your routes after loading the middleware\napp.get(\"/\", (_req, res) => {\n  res.send(\n    t({\n      en: \"Hello, World!\",\n      fr: \"Bonjour le monde!\",\n      es: \"¡Hola, Mundo!\",\n    })\n  );\n});\n```\n\n```javascript {7} fileName=\"src/index.mjs\" codeFormat=\"esm\"\nimport express from \"express\";\nimport { intlayer } from \"express-intlayer\";\n\nconst app = express();\n\n// Load internationalization request handler\napp.use(intlayer());\n\n// Define your routes after loading the middleware\napp.get(\"/\", (_req, res) => {\n  res.send(\n    t({\n      en: \"Hello, World!\",\n      fr: \"Bonjour le monde!\",\n      es: \"¡Hola, Mundo!\",\n    })\n  );\n});\n```\n\n```javascript {7} fileName=\"src/index.cjs\" codeFormat=\"commonjs\"\nconst express = require(\"express\");\nconst { intlayer } = require(\"express-intlayer\");\n\nconst app = express();\n\n// Load internationalization request handler\napp.use(intlayer());\n\n// Define your routes after loading the middleware\napp.get(\"/\", (_req, res) => {\n  res.send(\n    t({\n      en: \"Hello, World!\",\n      fr: \"Bonjour le monde!\",\n      es: \"¡Hola, Mundo!\",\n    })\n  );\n});\n```\n\n### Why This is Required\n\n- **Locale Detection**: The `intlayer` middleware processes incoming requests to detect the user's preferred locale based on headers, cookies, or other configured methods.\n- **Translation Context**: Sets up the necessary context for the `t` function to operate correctly, ensuring that translations are returned in the correct language.\n- **Error Prevention**: Without this middleware, using the `t` function will result in runtime errors because the necessary locale information won't be available.\n\n---\n\n## Usage Examples\n\n### Basic Example\n\nServe localized content in different languages:\n\n```typescript fileName=\"src/index.ts\" codeFormat=\"typescript\"\napp.get(\"/\", (_req, res) => {\n  res.send(\n    t({\n      en: \"Welcome!\",\n      fr: \"Bienvenue!\",\n      es: \"¡Bienvenido!\",\n    })\n  );\n});\n```\n\n```javascript fileName=\"src/index.mjs\" codeFormat=\"esm\"\napp.get(\"/\", (_req, res) => {\n  res.send(\n    t({\n      en: \"Welcome!\",\n      fr: \"Bienvenue!\",\n      es: \"¡Bienvenido!\",\n    })\n  );\n});\n```\n\n```javascript fileName=\"src/index.cjs\" codeFormat=\"commonjs\"\napp.get(\"/\", (_req, res) => {\n  res.send(\n    t({\n      en: \"Welcome!\",\n      fr: \"Bienvenue!\",\n      es: \"¡Bienvenido!\",\n    })\n  );\n});\n```\n\n**Client Requests:**\n\n- A client with `Accept-Language: fr` will receive `Bienvenue!`.\n- A client with `Accept-Language: es` will receive `¡Bienvenido!`.\n- A client with `Accept-Language: de` will receive `Welcome!` (default locale).\n\n### Handling Errors\n\nProvide error messages in multiple languages:\n\n```typescript fileName=\"src/index.ts\" codeFormat=\"typescript\"\napp.get(\"/error\", (_req, res) => {\n  res.status(500).send(\n    t({\n      en: \"An unexpected error occurred.\",\n      fr: \"Une erreur inattendue s'est produite.\",\n      es: \"Ocurrió un error inesperado.\",\n    })\n  );\n});\n```\n\n```javascript fileName=\"src/index.mjs\" codeFormat=\"esm\"\napp.get(\"/error\", (_req, res) => {\n  res.status(500).send(\n    t({\n      en: \"An unexpected error occurred.\",\n      fr: \"Une erreur inattendue s'est produite.\",\n      es: \"Ocurrió un error inesperado.\",\n    })\n  );\n});\n```\n\n```javascript fileName=\"src/index.cjs\" codeFormat=\"commonjs\"\napp.get(\"/error\", (_req, res) => {\n  res.status(500).send(\n    t({\n      en: \"An unexpected error occurred.\",\n      fr: \"Une erreur inattendue s'est produite.\",\n      es: \"Ocurrió un error inesperado.\",\n    })\n  );\n});\n```\n\n---\n\n### Using Locale Variants\n\nSpecify translations for locale-specific variants:\n\n```typescript fileName=\"src/index.ts\" codeFormat=\"typescript\"\napp.get(\"/greet\", (_req, res) => {\n  res.send(\n    t({\n      en: \"Hello!\",\n      \"en-GB\": \"Hello, mate!\",\n      fr: \"Bonjour!\",\n      \"es-MX\": \"¡Hola, amigo!\",\n      \"es-ES\": \"¡Hola!\",\n    })\n  );\n});\n```\n\n```javascript fileName=\"src/index.cjs\" codeFormat=\"commonjs\"\napp.get(\"/greet\", (_req, res) => {\n  res.send(\n    t({\n      en: \"Hello!\",\n      \"en-GB\": \"Hello, mate!\",\n      fr: \"Bonjour!\",\n      \"es-MX\": \"¡Hola, amigo!\",\n      \"es-ES\": \"¡Hola!\",\n    })\n  );\n});\n```\n\n```javascript fileName=\"src/index.mjs\" codeFormat=\"esm\"\napp.get(\"/greet\", (_req, res) => {\n  res.send(\n    t({\n      en: \"Hello!\",\n      \"en-GB\": \"Hello, mate!\",\n      fr: \"Bonjour!\",\n      \"es-MX\": \"¡Hola, amigo!\",\n      \"es-ES\": \"¡Hola!\",\n    })\n  );\n});\n```\n\n---\n\n## Advanced Topics\n\n### Fallback Mechanism\n\nIf a preferred locale is unavailable, the `t` function will fallback to the default locale defined in the configuration:\n\n```typescript {5-6} fileName=\"intlayer.config.ts\" codeFormat=\"typescript\"\nimport { Locales, type IntlayerConfig } from \"intlayer\";\n\nconst config = {\n  internationalization: {\n    locales: [Locales.ENGLISH, Locales.FRENCH, Locales.SPANISH],\n    defaultLocale: Locales.ENGLISH,\n  },\n} satisfies IntlayerConfig;\n\nexport default config;\n```\n\n```javascript {5-6} fileName=\"intlayer.config.mjs\" codeFormat=\"esm\"\nimport { Locales } from \"intlayer\";\n\n/** @type {import('intlayer').IntlayerConfig} */\nconst config = {\n  internationalization: {\n    locales: [Locales.ENGLISH, Locales.FRENCH, Locales.SPANISH],\n    defaultLocale: Locales.ENGLISH,\n  },\n};\n\nexport default config;\n```\n\n```javascript {5-6} fileName=\"intlayer.config.cjs\" codeFormat=\"commonjs\"\nconst { Locales } = require(\"intlayer\");\n\n/** @type {import('intlayer').IntlayerConfig} */\nconst config = {\n  internationalization: {\n    locales: [Locales.ENGLISH, Locales.FRENCH, Locales.SPANISH],\n    defaultLocale: Locales.ENGLISH,\n  },\n};\n\nmodule.exports = config;\n```\n\nFor example:\n\n- If `defaultLocale` is `Locales.CHINESE` and a client requests `Locales.DUTCH`, the returned translation will default to the `Locales.CHINESE` value.\n- If `defaultLocale` is not defined, the `t` function will fallback to the `Locales.ENGLISH` value.\n\n---\n\n### Strict Mode Enforcement\n\nConfigure the `t` function to enforce strict adherence to declared locales:\n\n| Mode        | Behavior                                                                                    |\n| ----------- | ------------------------------------------------------------------------------------------- |\n| `strict`    | All declared locales must have translations provided. Missing locales will throw errors.    |\n| `inclusive` | Declared locales must have translations. Missing locales trigger warnings but are accepted. |\n| `loose`     | Any existing locale is accepted, even if not declared.                                      |\n\nConfiguration Example:\n\n```typescript {7} fileName=\"intlayer.config.ts\" codeFormat=\"typescript\"\nimport { type IntlayerConfig } from \"intlayer\";\n\nconst config = {\n  // ... Your existing configuration\n  internationalization: {\n    // ... Your existing internationalization configuration\n    strictMode: \"strict\", // Enforce strict mode\n  },\n} satisfies IntlayerConfig;\n\nexport default config;\n```\n\n```javascript {7} fileName=\"intlayer.config.mjs\" codeFormat=\"esm\"\nimport { type IntlayerConfig } from \"intlayer\";\n\nconst config = {\n  // ... Your existing configuration\n  internationalization: {\n    // ... Your existing internationalization configuration\n    strictMode: \"strict\", // Enforce strict mode\n  },\n};\n\nexport default config;\n```\n\n```javascript {7} fileName=\"intlayer.config.cjs\" codeFormat=\"commonjs\"\n/** @type {import('intlayer').IntlayerConfig} */\nconst config = {\n  // ... Your existing configuration\n  internationalization: {\n    // ... Your existing internationalization configuration\n    strictMode: \"strict\", // Enforce strict mode\n  },\n};\n\nmodule.exports = config;\n```\n\n---\n\n### TypeScript Integration\n\nThe `t` function is type-safe when used with TypeScript. Define a type-safe translations object:\n\n```typescript fileName=\"src/index.ts\" codeFormat=\"typescript\"\nimport { type LanguageContent } from \"express-intlayer\";\n\nconst translations: LanguageContent<string> = {\n  en: \"Good morning!\",\n  fr: \"Bonjour!\",\n  es: \"¡Buenos días!\",\n};\n\napp.get(\"/morning\", (_req, res) => {\n  res.send(t(translations));\n});\n```\n\n```javascript fileName=\"src/index.mjs\" codeFormat=\"esm\"\nimport { type LanguageContent } from \"express-intlayer\";\n\n/** @type {import('express-intlayer').LanguageContent<string>} */\nconst translations = {\n  en: \"Good morning!\",\n  fr: \"Bonjour!\",\n  es: \"¡Buenos días!\",\n};\n\napp.get(\"/morning\", (_req, res) => {\n  res.send(t(translations));\n});\n```\n\n```javascript fileName=\"src/index.cjs\" codeFormat=\"commonjs\"\nconst { type LanguageContent } = require(\"express-intlayer\");\n\n/** @type {import('express-intlayer').LanguageContent<string>} */\nconst translations = {\n  en: \"Good morning!\",\n  fr: \"Bonjour!\",\n  es: \"¡Buenos días!\",\n};\n\napp.get(\"/morning\", (_req, res) => {\n  res.send(t(translations));\n});\n```\n\n---\n\n### Common Errors and Troubleshooting\n\n| Issue                      | Cause                                   | Solution                                             |\n| -------------------------- | --------------------------------------- | ---------------------------------------------------- |\n| `t` function not working   | Middleware not loaded                   | Ensure `app.use(intlayer())` is added before routes. |\n| Missing translations error | Strict mode enabled without all locales | Provide all required translations.                   |\n\n---\n\n## Tips for Effective Usage\n\n1. **Centralize Translations**: Use a centralized module or JSON files for managing translations to improve maintainability.\n2. **Validate Translations**: Ensure every language variant has a corresponding translation to prevent falling back unnecessarily.\n3. **Combine with Frontend i18n**: Synchronize with frontend internationalization for a seamless user experience across the app.\n4. **Benchmark Performance**: Test your app's response times when adding translations to ensure minimal impact.\n\n---\n\n## Conclusion\n\nThe `t` function is a powerful tool for backend internationalization. By using it effectively, you can create a more inclusive and user-friendly application for a global audience. For advanced usage and detailed configuration options, refer to the [documentation](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/configuration.md).\n",
  "createdAt": "2024-12-02",
  "updatedAt": "2025-06-29",
  "title": "t Function Documentation | express-intlayer",
  "description": "See how to use the t function for express-intlayer package",
  "keywords": [
    "t",
    "translation",
    "Intlayer",
    "Internationalization",
    "Documentation",
    "Express",
    "JavaScript",
    "React"
  ],
  "slugs": [
    "doc",
    "packages",
    "express-intlayer",
    "t"
  ],
  "history": [
    {
      "version": "5.5.10",
      "date": "2025-06-29",
      "changes": "Init history"
    }
  ],
  "docKey": "./docs/en/packages/express-intlayer/t.md",
  "githubUrl": "https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/packages/express-intlayer/t.md",
  "relativeUrl": "/doc/packages/express-intlayer/t",
  "url": "https://intlayer.org/doc/packages/express-intlayer/t"
}