{
  "id": "./docs/en/intlayer_with_svelte_kit.md",
  "content": "---\ncreatedAt: 2025-11-20\nupdatedAt: 2025-12-30\ntitle: SvelteKit i18n - How to translate your SvelteKit app – guide 2026\ndescription: Discover how to make your SvelteKit website multilingual. Follow the documentation to internationalize (i18n) and translate it using Server-Side Rendering (SSR).\nkeywords:\n  - Internationalization\n  - Documentation\n  - Intlayer\n  - SvelteKit\n  - JavaScript\n  - SSR\nslugs:\n  - doc\n  - environment\n  - sveltekit\napplicationTemplate: https://github.com/aymericzip/intlayer-sveltekit-template\nhistory:\n  - version: 7.5.9\n    date: 2025-12-30\n    changes: Add init command\n  - version: 7.1.10\n    date: 2025-11-20\n    changes: Init history\n---\n\n# Translate your SvelteKit website using Intlayer | Internationalization (i18n)\n\n## Table of Contents\n\n<TOC/>\n\n## What is Intlayer?\n\n**Intlayer** is an innovative, open-source internationalization (i18n) library designed to simplify multilingual support in modern web applications. It works seamlessly with **SvelteKit's** Server-Side Rendering (SSR) capabilities.\n\nWith Intlayer, you can:\n\n- **Easily manage translations** using declarative dictionaries at the component level.\n- **Dynamically localize metadata**, routes, and content.\n- **Ensure TypeScript support** with autogenerated types.\n- **Leverage SvelteKit's SSR** for SEO-friendly internationalization.\n\n---\n\n## Step-by-Step Guide to Set Up Intlayer in a SvelteKit Application\n\n<iframe\n  src=\"https://stackblitz.com/github/aymericzip/intlayer-sveltekit-template?embed=1&ctl=1&file=intlayer.config.ts\"\n  className=\"m-auto overflow-hidden rounded-lg border-0 max-md:size-full max-md:h-[700px] md:aspect-16/9 md:w-full\"\n  title=\"Demo CodeSandbox - Cách quốc tế hóa ứng dụng của bạn bằng Intlayer\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n  loading=\"lazy\"\n/>\n\nSee [Application Template](https://github.com/aymericzip/intlayer-sveltekit-template) on GitHub.\n\nTo get started, create a new SvelteKit project. Here is the final structure that we will make:\n\n```bash\n.\n├── intlayer.config.ts\n├── package.json\n├── src\n│   ├── app.d.ts\n│   ├── app.html\n│   ├── hooks.server.ts\n│   ├── lib\n│   │   ├── getLocale.ts\n│   │   ├── LocaleSwitcher.svelte\n│   │   └── LocalizedLink.svelte\n│   ├── params\n│   │   └── locale.ts\n│   └── routes\n│       ├── [[locale=locale]]\n│       │   ├── +layout.svelte\n│       │   ├── +layout.ts\n│       │   ├── +page.svelte\n│       │   ├── +page.ts\n│       │   ├── about\n│       │   │   ├── +page.svelte\n│       │   │   ├── +page.ts\n│       │   │   └── page.content.ts\n│       │   ├── Counter.content.ts\n│       │   ├── Counter.svelte\n│       │   ├── Header.content.ts\n│       │   ├── Header.svelte\n│       │   ├── home.content.ts\n│       │   └── layout.content.ts\n│       ├── +layout.svelte\n│       └── layout.css\n├── static\n│   ├── favicon.svg\n│   └── robots.txt\n├── svelte.config.js\n├── tsconfig.json\n└── vite.config.ts\n```\n\n### Step 1: Install Dependencies\n\nInstall the necessary packages using npm:\n\n```bash packageManager=\"npm\"\nnpm install intlayer svelte-intlayer\nnpm install vite-intlayer --save-dev\nnpx intlayer init\n```\n\n```bash packageManager=\"pnpm\"\npnpm add intlayer svelte-intlayer\npnpm add vite-intlayer --save-dev\npnpm intlayer init\n```\n\n```bash packageManager=\"yarn\"\nyarn add intlayer svelte-intlayer\nyarn add vite-intlayer --save-dev\nyarn intlayer init\n```\n\n```bash packageManager=\"bun\"\nbun add intlayer svelte-intlayer\nbun add vite-intlayer --save-dev\nbunx intlayer init\n```\n\n- **intlayer**: The core i18n package.\n- **svelte-intlayer**: Provides context providers and stores for Svelte/SvelteKit.\n- **vite-intlayer**: The Vite plugin to integrate content declarations with the build process.\n\n### Step 2: Configuration of your project\n\nCreate a config file in your project root:\n\n```typescript fileName=\"intlayer.config.ts\"\nimport { Locales, type IntlayerConfig } from \"intlayer\";\n\nconst config: IntlayerConfig = {\n  internationalization: {\n    locales: [Locales.ENGLISH, Locales.FRENCH, Locales.SPANISH],\n    defaultLocale: Locales.ENGLISH,\n  },\n};\n\nexport default config;\n```\n\n### Step 3: Integrate Intlayer in Your Vite Configuration\n\nUpdate your `vite.config.ts` to include the Intlayer plugin. This plugin handles the transpilation of your content files.\n\n```typescript fileName=\"vite.config.ts\"\nimport { sveltekit } from \"@sveltejs/kit/vite\";\nimport { defineConfig } from \"vite\";\nimport { intlayer } from \"vite-intlayer\";\n\nexport default defineConfig({\n  plugins: [intlayer(), sveltekit()], // order matters, Intlayer should be placed before SvelteKit\n});\n```\n\n### Step 4: Declare Your Content\n\nCreate your content declaration files anywhere in your `src` folder (e.g., `src/lib/content` or alongside your components). These files define the translatable content for your application using the `t()` function for each locale.\n\n```ts fileName=\"src/features/hero/hero.content.ts\" contentDeclarationFormat=\"typescript\"\nimport { t, type Dictionary } from \"intlayer\";\n\nconst heroContent = {\n  key: \"hero-section\",\n  content: {\n    title: t({\n      en: \"Welcome to SvelteKit\",\n      fr: \"Bienvenue sur SvelteKit\",\n      es: \"Bienvenido a SvelteKit\",\n    }),\n  },\n} satisfies Dictionary;\n\nexport default heroContent;\n```\n\n### Step 5: Utilize Intlayer in Your Components\n\nNow you can use the `useIntlayer` function in any Svelte component. It returns a reactive store that automatically updates when the locale changes. The function will automatically respect the current locale (both during SSR and client-side navigation).\n\n> **Note:** `useIntlayer` returns a Svelte store, so you need to use the `$` prefix to access its reactive value (e.g., `$content.title`).\n\n```svelte fileName=\"src/lib/components/Component.svelte\"\n<script lang=\"ts\">\n  import { useIntlayer } from \"svelte-intlayer\";\n\n  // \"hero-section\" corresponds to the key defined in Step 4\n  const content = useIntlayer(\"hero-section\");\n</script>\n\n<!-- Render content as simple content  -->\n<h1>{$content.title}</h1>\n<!-- To render the content editable using the editor -->\n<h1><svelte:component this={$content.title} /></h1>\n<!-- To render the content as a string -->\n<div aria-label={$content.title.value}></div>\n```\n\n### (Optional) Step 6: Set up routing\n\nThe following steps show how to set up locale-based routing in SvelteKit. This allows your URLs to include the locale prefix (e.g., `/en/about`, `/fr/about`) for better SEO and user experience.\n\n```bash\n.\n└─── src\n    ├── app.d.ts                  # Define the locale type\n    ├── hooks.server.ts           # Manage locale routing\n    ├── lib\n    │   └── getLocale.ts          # Check the locale from the header, cookies\n    ├── params\n    │   └── locale.ts             # Define the locale parameter\n    └── routes\n        ├── [[locale=locale]]     # Wrap in a route group to set the locale\n        │   ├── +layout.svelte    # Local layout for the route\n        │   ├── +layout.ts\n        │   ├── +page.svelte\n        │   ├── +page.ts\n        │   └── about\n        │       ├── +page.svelte\n        │       └── +page.ts\n        └── +layout.svelte         # Root layout for fonts and global styles\n```\n\n### Step 7: Handle Server-Side Locale Detection (Hooks)\n\nIn SvelteKit, the server needs to know the user's locale to render the correct content during SSR. We use `hooks.server.ts` to detect the locale from the URL or cookies.\n\nCreate or modify `src/hooks.server.ts`:\n\n```typescript fileName=\"src/hooks.server.ts\"\nimport type { Handle } from \"@sveltejs/kit\";\nimport { getLocalizedUrl } from \"intlayer\";\nimport { getLocale } from \"$lib/getLocale\";\n\nexport const handle: Handle = async ({ event, resolve }) => {\n  const detectedLocale = getLocale(event);\n\n  // Check if the current path already starts with a locale (e.g. /fr, /en)\n  const pathname = event.url.pathname;\n  const targetPathname = getLocalizedUrl(pathname, detectedLocale);\n\n  // If NO locale is present in the URL (e.g. user visits \"/\"), redirect them\n  if (targetPathname !== pathname) {\n    return new Response(undefined, {\n      headers: { Location: targetPathname },\n      status: 307, // Temporary redirect\n    });\n  }\n\n  return resolve(event, {\n    transformPageChunk: ({ html }) => html.replace(\"%lang%\", detectedLocale),\n  });\n};\n```\n\nThen, create a helper to get the user's locale from the request event:\n\n```typescript fileName=\"src/lib/getLocale.ts\"\nimport {\n  configuration,\n  getLocaleFromStorage,\n  localeDetector,\n  type Locale,\n} from \"intlayer\";\nimport type { RequestEvent } from \"@sveltejs/kit\";\n\n/**\n * Get the user's locale from the request event.\n * This function is used in the `handle` hook in `src/hooks.server.ts`.\n *\n * It first tries to get the locale from the Intlayer storage (cookies or custom headers).\n * If the locale is not found, it falls back to the browser's \"Accept-Language\" negotiation.\n *\n * @param event - The request event from SvelteKit\n * @returns The user's locale\n */\nexport const getLocale = (event: RequestEvent): Locale => {\n  const defaultLocale = configuration?.internationalization?.defaultLocale;\n\n  // Try to get locale from Intlayer storage (Cookies or headers)\n  const storedLocale = getLocaleFromStorage({\n    // SvelteKit cookies access\n    getCookie: (name: string) => event.cookies.get(name) ?? null,\n    // SvelteKit headers access\n    getHeader: (name: string) => event.request.headers.get(name) ?? null,\n  });\n\n  if (storedLocale) {\n    return storedLocale;\n  }\n\n  // Fallback to Browser \"Accept-Language\" negotiation\n  const negotiatorHeaders: Record<string, string> = {};\n\n  // Convert SvelteKit Headers object to a plain Record<string, string>\n  event.request.headers.forEach((value, key) => {\n    negotiatorHeaders[key] = value;\n  });\n\n  // Check the locale from the `Accept-Language` header\n  const userFallbackLocale = localeDetector(negotiatorHeaders);\n\n  if (userFallbackLocale) {\n    return userFallbackLocale;\n  }\n\n  // Return default locale if no match is found\n  return defaultLocale;\n};\n```\n\n> `getLocaleFromStorage` will check the locale from header or cookie depending on your configuration. See [Configuration](https://intlayer.org/doc/configuration) for more details.\n\n> The `localeDetector` function will treat the `Accept-Language` header and return the best match.\n\nIf the locale is not configured, we want to return a 404 error. To make it easier, we can create a `match` function to check if the locale is valid:\n\n```ts fileName=\"/src/params/locale.ts\"\nimport { configuration, type Locale } from \"intlayer\";\n\nexport const match = (\n  param: Locale = configuration.internationalization.defaultLocale\n): boolean => {\n  return configuration.internationalization.locales.includes(param);\n};\n```\n\n> **Note:** Ensure your `src/app.d.ts` includes the locale definition:\n>\n> ```typescript\n> declare global {\n>   namespace App {\n>     interface Locals {\n>       locale: import(\"intlayer\").Locale;\n>     }\n>   }\n> }\n> ```\n\nFor the `+layout.svelte` file, we can remove everything, to keep only static content, not related to i18n:\n\n```svelte fileName=\"src/+layout.svelte\"\n<script lang=\"ts\">\n\t import './layout.css';\n\n    let { children } = $props();\n</script>\n\n<div class=\"app\">\n\t{@render children()}\n</div>\n\n<style>\n\t.app {\n    /*  */\n\t}\n</style>\n```\n\nThen, create a new page and layout under the `[[locale=locale]]` group:\n\n```ts fileName=\"src/routes/[[locale=locale]]/+layout.ts\"\nimport type { Load } from \"@sveltejs/kit\";\nimport { configuration, type Locale } from \"intlayer\";\n\nexport const prerender = true;\n\n// Use the generic Load type\nexport const load: Load = ({ params }) => {\n  const locale: Locale =\n    (params.locale as Locale) ??\n    configuration.internationalization.defaultLocale;\n\n  return {\n    locale,\n  };\n};\n```\n\n```svelte fileName=\"src/routes/[[locale=locale]]/+layout.svelte\"\n<script lang=\"ts\">\n\timport type { Snippet } from 'svelte';\n\timport { useIntlayer, setupIntlayer } from 'svelte-intlayer';\n\timport Header from './Header.svelte';\n\timport type { LayoutData } from './$types';\n\n\tlet { children, data }: { children: Snippet, data: LayoutData } = $props();\n\n\t// Initialize Intlayer with the locale from the route\n  $effect(() => {\n      setupIntlayer(data.locale);\n  });\n\t// Use the layout content dictionary\n\tconst layoutContent = useIntlayer('layout');\n</script>\n\n<Header />\n\n<main>\n\t{@render children()}\n</main>\n\n<footer>\n\t<p>\n\t\t{$layoutContent.footer.prefix.value}{' '}\n\t\t<a href=\"https://svelte.dev/docs/kit\">{$layoutContent.footer.linkLabel.value}</a>{' '}\n\t\t{$layoutContent.footer.suffix.value}\n\t</p>\n</footer>\n\n<style>\n  /*  */\n</style>\n```\n\n```ts fileName=\"src/routes/[[locale=locale]]/+page.ts\"\nexport const prerender = true;\n```\n\n```svelte fileName=\"src/routes/[[locale=locale]]/+page.svelte\"\n<script lang=\"ts\">\n\timport { useIntlayer } from 'svelte-intlayer';\n\n\t// Use the home content dictionary\n\tconst homeContent = useIntlayer('home');\n</script>\n\n<svelte:head>\n\t<title>{$homeContent.title.value}</title>\n</svelte:head>\n\n<section>\n\t<h1>\n\t\t{$homeContent.title}\n\t</h1>\n</section>\n\n<style>\n  /*  */\n</style>\n```\n\n### (Optional) Step 8: Internationalized Links\n\nFor SEO, it is recommended to prefix your routes with the locale (e.g., `/en/about`, `/fr/about`). This component automatically prefixes any link with the current locale.\n\n```svelte fileName=\"src/lib/components/LocalizedLink.svelte\"\n<script lang=\"ts\">\n  import { getLocalizedUrl } from \"intlayer\";\n  import { useLocale } from 'svelte-intlayer';\n\n  let { href = \"\" } = $props();\n  const { locale } = useLocale();\n\n  // Helper to prefix URL with current locale\n  $: localizedHref = getLocalizedUrl(href, $locale);\n</script>\n\n<a href={localizedHref}>\n  <slot />\n</a>\n```\n\nIf you use `goto` from SvelteKit, you can use the same logic with `getLocalizedUrl` to navigate to the localized URL:\n\n```typescript\nimport { goto } from \"$app/navigation\";\nimport { getLocalizedUrl } from \"intlayer\";\nimport { useLocale } from \"svelte-intlayer\";\n\nconst { locale } = useLocale();\nconst localizedPath = getLocalizedUrl(\"/about\", $locale);\ngoto(localizedPath); // Navigates to /en/about or /fr/about depending on locale\n```\n\n### (Optional) Step 9: Language Switcher\n\nTo allow users to switch languages, update the URL.\n\n```svelte fileName=\"src/lib/components/LanguageSwitcher.svelte\"\n<script lang=\"ts\">\n  import { getLocalizedUrl, getLocaleName } from 'intlayer';\n  import { useLocale } from 'svelte-intlayer';\n  import { page } from '$app/stores';\n  import { goto } from '$app/navigation';\n\n  const { locale, setLocale, availableLocales } = useLocale({\n    onLocaleChange: (newLocale) => {\n      const localizedPath = getLocalizedUrl($page.url.pathname, newLocale);\n      goto(localizedPath);\n    },\n  });\n</script>\n\n<ul class=\"locale-list\">\n  {#each availableLocales as localeEl}\n    <li>\n      <a\n        href={getLocalizedUrl($page.url.pathname, localeEl)}\n        onclick={(e) => {\n          e.preventDefault();\n          setLocale(localeEl); // Will set the locale in the store and trigger onLocaleChange\n        }}\n        class:active={$locale === localeEl}\n      >\n        {getLocaleName(localeEl)}\n      </a>\n    </li>\n  {/each}\n</ul>\n\n<style>\n  /* */\n</style>\n```\n\n### (Optional) Step 10: Add backend proxy\n\nTo add a backend proxy to your SvelteKit application, you can use the `intlayerProxy` function provided by the `vite-intlayer` plugin. This plugin will automatically detect the best locale for the user based on the URL, cookies, and browser language preferences.\n\n```ts fileName=\"vite.config.ts\"\nimport { defineConfig } from \"vite\";\nimport { intlayer, intlayerProxy } from \"vite-intlayer\";\nimport { sveltekit } from \"@sveltejs/kit/vite\";\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [intlayer(), intlayerProxy(), sveltekit()],\n});\n```\n\n### (Optional) Step 11: Set up the intlayer editor / CMS\n\nTo set up the intlayer editor, you must follow the [intlayer editor documentation](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/intlayer_visual_editor.md).\n\nTo set up the intlayer CMS, you must follow the [intlayer CMS documentation](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/intlayer_CMS.md).\n\nTo be able to visualize the intlayer editor selector, you will have to use the component syntax in your intlayer content.\n\n```svelte fileName=\"Component.svelte\"\n<script lang=\"ts\">\n  import { useIntlayer } from \"svelte-intlayer\";\n\n  const content = useIntlayer(\"component\");\n</script>\n\n<div>\n\n  <!-- Render content as simple content  -->\n  <h1>{$content.title}</h1>\n\n  <!-- Render content as a component (required by the editor) -->\n  <svelte:component this={$content.component} />\n</div>\n```\n\n### Git Configuration\n\nIt is recommended to ignore the files generated by Intlayer.\n\n```plaintext fileName=\".gitignore\"\n# Ignore the files generated by Intlayer\n.intlayer\n```\n\n---\n\n### Go Further\n\n- **Visual Editor**: Integrate the [Intlayer Visual Editor](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/intlayer_visual_editor.md) to edit translations directly from the UI.\n- **CMS**: Externalize your content management using the [Intlayer CMS](https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/intlayer_CMS.md).\n",
  "createdAt": "2025-11-20",
  "updatedAt": "2025-12-30",
  "title": "SvelteKit i18n - How to translate your SvelteKit app – guide 2026",
  "description": "Discover how to make your SvelteKit website multilingual. Follow the documentation to internationalize (i18n) and translate it using Server-Side Rendering (SSR).",
  "keywords": [
    "Internationalization",
    "Documentation",
    "Intlayer",
    "SvelteKit",
    "JavaScript",
    "SSR"
  ],
  "slugs": [
    "doc",
    "environment",
    "sveltekit"
  ],
  "applicationTemplate": "https://github.com/aymericzip/intlayer-sveltekit-template",
  "history": [
    {
      "version": "7.5.9",
      "date": "2025-12-30",
      "changes": "Add init command"
    },
    {
      "version": "7.1.10",
      "date": "2025-11-20",
      "changes": "Init history"
    }
  ],
  "docKey": "./docs/en/intlayer_with_svelte_kit.md",
  "githubUrl": "https://github.com/aymericzip/intlayer/blob/main/docs/docs/en/intlayer_with_svelte_kit.md",
  "relativeUrl": "/doc/environment/sveltekit",
  "url": "https://intlayer.org/doc/environment/sveltekit"
}